  Package               Version  Build               Channel                                   Size
─────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
─────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex           0.1  conda_forge         conda-forge/linux-64                    Cached
  + _openmp_mutex           4.5  1_gnu               conda-forge/linux-64                    Cached
  + ca-certificates   2021.5.30  ha878542_0          conda-forge/linux-64                    Cached
  + ld_impl_linux-64     2.36.1  hea4e1c9_2          conda-forge/linux-64                    Cached
  + libffi                  3.3  h58526e2_2          conda-forge/linux-64                    Cached
  + libgcc-ng            11.1.0  hc902ee8_8          conda-forge/linux-64                    Cached
  + libgomp              11.1.0  hc902ee8_8          conda-forge/linux-64                    Cached
  + libstdcxx-ng         11.1.0  h56837e0_8          conda-forge/linux-64                    Cached
  + ncurses                 6.2  h58526e2_4          conda-forge/linux-64                    Cached
  + openssl              1.1.1k  h7f98852_1          conda-forge/linux-64                    Cached
  + pip                  21.2.4  pyhd8ed1ab_0        conda-forge/noarch                      Cached
  + python                3.9.7  h49503c6_0_cpython  conda-forge/linux-64                    Cached
  + python_abi              3.9  2_cp39              conda-forge/linux-64                    Cached
  + readline                8.1  h46c0cb4_0          conda-forge/linux-64                    Cached
  + setuptools           57.4.0  py39hf3d152e_0      conda-forge/linux-64                    Cached
  + simka                 1.5.3  h9a82719_1          /home/vsts/conda/conda-bld/linux-64      10 MB
  + sqlite               3.36.0  h9cd32fc_0          conda-forge/linux-64                    Cached
  + tk                   8.6.11  h27826a3_1          conda-forge/linux-64                    Cached
  + tzdata                2021a  he74cb21_1          conda-forge/noarch                      Cached
  + wheel                0.37.0  pyhd8ed1ab_1        conda-forge/noarch                      Cached
  + xz                    5.2.5  h516909a_1          conda-forge/linux-64                    Cached
  + zlib                 1.2.11  h516909a_1010       conda-forge/linux-64                    Cached

  Summary:

  Install: 22 packages

  Total download: 10 MB

─────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /home/vsts/conda/conda-bld

TEST START: simka-1.5.3-h9a82719_1.tar.bz2

## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/simka_1630661670165/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh


The following NEW packages will be INSTALLED:

    _libgcc_mutex:    0.1-conda_forge          conda-forge
    _openmp_mutex:    4.5-1_gnu                conda-forge
    ca-certificates:  2021.5.30-ha878542_0     conda-forge
    ld_impl_linux-64: 2.36.1-hea4e1c9_2        conda-forge
    libffi:           3.3-h58526e2_2           conda-forge
    libgcc-ng:        11.1.0-hc902ee8_8        conda-forge
    libgomp:          11.1.0-hc902ee8_8        conda-forge
    libstdcxx-ng:     11.1.0-h56837e0_8        conda-forge
    ncurses:          6.2-h58526e2_4           conda-forge
    openssl:          1.1.1k-h7f98852_1        conda-forge
    pip:              21.2.4-pyhd8ed1ab_0      conda-forge
    python:           3.9.7-h49503c6_0_cpython conda-forge
    python_abi:       3.9-2_cp39               conda-forge
    readline:         8.1-h46c0cb4_0           conda-forge
    setuptools:       57.4.0-py39hf3d152e_0    conda-forge
    simka:            1.5.3-h9a82719_1         local      
    sqlite:           3.36.0-h9cd32fc_0        conda-forge
    tk:               8.6.11-h27826a3_1        conda-forge
    tzdata:           2021a-he74cb21_1         conda-forge
    wheel:            0.37.0-pyhd8ed1ab_1      conda-forge
    xz:               5.2.5-h516909a_1         conda-forge
    zlib:             1.2.11-h516909a_1010     conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/home/vsts/conda/conda-bld/simka_1630661670165/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh
export SRC_DIR=/home/vsts/conda/conda-bld/simka_1630661670165/test_tmp
ERROR: Unknown parameter '-h'
ERROR: Option '-in' is mandatory
ERROR: Option '-out-tmp' is mandatory
ERROR: Option '-in' is mandatory

[Simka options]
       -in        (1 arg) :    input file of samples. One sample per line: id1: filename1...
       -out       (1 arg) :    output directory for result files (distance matrices)  [default './simka_results']
       -out-tmp   (1 arg) :    output directory for temporary files
       -keep-tmp  (0 arg) :    keep temporary files
       -data-info (0 arg) :    compute (and display) information before running Simka, such as the number of reads per dataset
       -verbose   (1 arg) :    verbosity level  [default '1']
       -version   (0 arg) :    version
       -help      (0 arg) :    help

   [distance options]
          -simple-dist  (0 arg) :    compute all simple distances (Chord, Hellinger...)
          -complex-dist (0 arg) :    compute all complex distances (Jensen-Shannon...)

   [kmer options]
          -kmer-size          (1 arg) :    size of a kmer  [default '21']
          -abundance-min      (1 arg) :    min abundance a kmer need to be considered  [default '2']
          -abundance-max      (1 arg) :    max abundance a kmer can have to be considered  [default '999999999']
          -kmer-shannon-index (1 arg) :    minimal Shannon index a kmer should have to be kept. Float in [0,2]  [default '0']

   [read options]
          -max-reads         (1 arg) :    maximum number of reads per sample to process. Can be -1: use all reads. Can be 0: estimate it  [default '-1']
          -min-read-size     (1 arg) :    minimal size a read should have to be kept  [default '0']
          -min-shannon-index (1 arg) :    minimal Shannon index a read should have to be kept. Float in [0,2]  [default '0']

   [core options]
          -nb-cores   (1 arg) :    number of cores  [default '0']
          -max-memory (1 arg) :    max memory (MB)  [default '5000']
          -max-count  (1 arg) :    maximum number of simultaneous counting jobs (a higher value improve execution time but increase temporary disk usage)  [default '']
          -max-merge  (1 arg) :    maximum number of simultaneous merging jobs (1 job = 1 core)  [default '']

   [cluster options]
          -count-cmd  (1 arg) :    command to submit counting job  [default '']
          -merge-cmd  (1 arg) :    command to submit merging job  [default '']
          -count-file (1 arg) :    filename to the couting job template  [default '']
          -merge-file (1 arg) :    filename to the merging job template  [default '']
[main options]:
  -in                  (1 arg) :    input file of datasets. One sample per line: id1: filename1...
  -out                 (1 arg) :    output directory for result files (distance matrices) [Default: ./simka_results]
  -seed                (1 arg) :    seed used for random k-mer selection [Default: 100]
  -bin                 (1 arg) :    path to simkaMinCore program (to be specified if not in PATH, or not in standard installation directory <simkaDir>/build/bin/simkaMinCore)

[core options]:
  -nb-cores            (1 arg) :    number of cores [Default: 0]
  -max-memory          (1 arg) :    max memory (MB) [Default: 8000]

[k-mer options]:
  -kmer-size           (1 arg) :    size of a kmer [Default: 21]
  -nb-kmers            (1 arg) :    number of kmers used to compute distances [Default: 1000000]
  -filter              (0 arg) :    filter out k-mer seen one time (potentially erroneous)

[read options]:
  -max-reads           (1 arg) :    maximum number of reads per sample to process [Default: 0]
  -min-read-size       (1 arg) :    minimal size a read should have to be kept [Default: 0]
  -min-shannon-index   (1 arg) :    minimal Shannon index a read should have to be kept. Float in [0,2] [Default: 0]

Resource usage statistics from testing simka:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.3M
   Disk usage: 16B
   Time elapsed: 0:00:02.1


TEST END: simka-1.5.3-h9a82719_1.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

