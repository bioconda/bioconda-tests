  Package                 Version  Build               Channel                                    Size
────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────

  + appdirs                 1.4.4  pyh9f0ad1d_0        conda-forge/noarch                        13 KB
  + argparse                1.4.0  py36_0              bioconda/osx-64                           46 KB
  + brotlipy                0.7.0  py36hfa26744_1001   conda-forge/osx-64                       357 KB
  + ca-certificates     2021.5.30  h033912b_0          conda-forge/osx-64                       Cached
  + cerberus                1.3.2  py_0                conda-forge/noarch                        43 KB
  + certifi             2021.5.30  py36h79c6626_0      conda-forge/osx-64                       141 KB
  + cffi                   1.14.6  py36h66709a0_0      conda-forge/osx-64                       217 KB
  + chardet                 4.0.0  py36h79c6626_1      conda-forge/osx-64                       219 KB
  + charset-normalizer      2.0.0  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + cryptography            3.4.7  py36h3d45be8_0      conda-forge/osx-64                       766 KB
  + idna                      3.1  pyhd3deb0d_0        conda-forge/noarch                       Cached
  + irida-uploader          0.6.2  py36hdfd78af_1      /Users/runner/conda/conda-bld/osx-64      89 KB
  + libcxx                 12.0.1  habf9029_0          conda-forge/osx-64                       Cached
  + libffi                    3.3  h046ec9c_2          conda-forge/osx-64                       Cached
  + ncurses                   6.2  h2e338ed_4          conda-forge/osx-64                       Cached
  + openssl                1.1.1l  h0d85af4_0          conda-forge/osx-64                       Cached
  + pip                    21.2.4  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + pycparser                2.20  pyh9f0ad1d_2        conda-forge/noarch                       Cached
  + pyopenssl              20.0.1  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + pysocks                 1.7.1  py36h79c6626_3      conda-forge/osx-64                        27 KB
  + python                 3.6.13  h7728216_0_cpython  conda-forge/osx-64                        21 MB
  + python_abi                3.6  2_cp36m             conda-forge/osx-64                         4 KB
  + rauth                   0.7.3  py_0                conda-forge/noarch                        15 KB
  + readline                  8.1  h05e3726_0          conda-forge/osx-64                       Cached
  + requests               2.26.0  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + requests-toolbelt       0.9.1  py_0                conda-forge/noarch                        40 KB
  + setuptools             57.4.0  py36h79c6626_0      conda-forge/osx-64                       965 KB
  + six                    1.16.0  pyh6c4a22f_0        conda-forge/noarch                       Cached
  + sqlite                 3.36.0  h23a322b_0          conda-forge/osx-64                       Cached
  + tk                     8.6.11  h5dbffcc_1          conda-forge/osx-64                       Cached
  + urllib3                1.26.6  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + wheel                  0.37.0  pyhd8ed1ab_1        conda-forge/noarch                       Cached
  + xz                      5.2.5  haf1e3a3_1          conda-forge/osx-64                       Cached
  + zlib                   1.2.11  h7795811_1010       conda-forge/osx-64                       Cached

  Summary:

  Install: 34 packages

  Total download: 23 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /Users/runner/conda/conda-bld

TEST START: irida-uploader-0.6.2-py36hdfd78af_1.tar.bz2

## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/irida-uploader_1630938681590/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac


The following NEW packages will be INSTALLED:

    appdirs:            1.4.4-pyh9f0ad1d_0        conda-forge
    argparse:           1.4.0-py36_0              bioconda   
    brotlipy:           0.7.0-py36hfa26744_1001   conda-forge
    ca-certificates:    2021.5.30-h033912b_0      conda-forge
    cerberus:           1.3.2-py_0                conda-forge
    certifi:            2021.5.30-py36h79c6626_0  conda-forge
    cffi:               1.14.6-py36h66709a0_0     conda-forge
    chardet:            4.0.0-py36h79c6626_1      conda-forge
    charset-normalizer: 2.0.0-pyhd8ed1ab_0        conda-forge
    cryptography:       3.4.7-py36h3d45be8_0      conda-forge
    idna:               3.1-pyhd3deb0d_0          conda-forge
    irida-uploader:     0.6.2-py36hdfd78af_1      local      
    libcxx:             12.0.1-habf9029_0         conda-forge
    libffi:             3.3-h046ec9c_2            conda-forge
    ncurses:            6.2-h2e338ed_4            conda-forge
    openssl:            1.1.1l-h0d85af4_0         conda-forge
    pip:                21.2.4-pyhd8ed1ab_0       conda-forge
    pycparser:          2.20-pyh9f0ad1d_2         conda-forge
    pyopenssl:          20.0.1-pyhd8ed1ab_0       conda-forge
    pysocks:            1.7.1-py36h79c6626_3      conda-forge
    python:             3.6.13-h7728216_0_cpython conda-forge
    python_abi:         3.6-2_cp36m               conda-forge
    rauth:              0.7.3-py_0                conda-forge
    readline:           8.1-h05e3726_0            conda-forge
    requests:           2.26.0-pyhd8ed1ab_0       conda-forge
    requests-toolbelt:  0.9.1-py_0                conda-forge
    setuptools:         57.4.0-py36h79c6626_0     conda-forge
    six:                1.16.0-pyh6c4a22f_0       conda-forge
    sqlite:             3.36.0-h23a322b_0         conda-forge
    tk:                 8.6.11-h5dbffcc_1         conda-forge
    urllib3:            1.26.6-pyhd8ed1ab_0       conda-forge
    wheel:              0.37.0-pyhd8ed1ab_1       conda-forge
    xz:                 5.2.5-haf1e3a3_1          conda-forge
    zlib:               1.2.11-h7795811_1010      conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/irida-uploader_1630938681590/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac
export SRC_DIR=/Users/runner/conda/conda-bld/irida-uploader_1630938681590/test_tmp
usage: irida-uploader -d DIRECTORY [-h] [--version] [-c CONFIG] [-f] [-p] [-b]
                                   [-u UPLOAD_MODE] [-ci [CONFIG_CLIENT_ID]]
                                   [-cs [CONFIG_CLIENT_SECRET]]
                                   [-cu [CONFIG_USERNAME]]
                                   [-cp [CONFIG_PASSWORD]]
                                   [-cb [CONFIG_BASE_URL]]
                                   [-cr [CONFIG_PARSER]] [-r] [-cd [DELAY]]
                                   [-ct [CONFIG_TIMEOUT]]

This program parses sequencing runs and uploads them to IRIDA.

required arguments:
  --d DIRECTORY, --directory DIRECTORY
                        Location of sequencing run to upload.
                        Directory must be writable.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
  -c CONFIG, --config CONFIG
                        Path to an alternative configuration file. This
                        overrides the default config file in the config
                        directory
  -f, --force           Uploader will ignore the status file, and try to
                        upload even when a run is in non new status.
  -p, --continue_partial
                        Uploader will continue an existing upload run when
                        upload status is partial.
  -b, --batch           Uploader will expect a directory containing a
                        sequencing run directories, and upload in batch. The
                        list of runs is generated at start time (Runs added to
                        directory mid upload will not be uploaded).
  -u UPLOAD_MODE, --upload_mode UPLOAD_MODE
                        Choose which upload mode to use. Supported modes:
                        ['default', 'assemblies', 'fast5']
  -ci [CONFIG_CLIENT_ID], --config_client_id [CONFIG_CLIENT_ID]
                        Override the "client_id" field in config file. This is
                        for the uploader client created in IRIDA, used to
                        handle the data upload
  -cs [CONFIG_CLIENT_SECRET], --config_client_secret [CONFIG_CLIENT_SECRET]
                        Override "client_secret" in config file. This is for
                        the uploader client created in IRIDA, used to handle
                        the data upload
  -cu [CONFIG_USERNAME], --config_username [CONFIG_USERNAME]
                        Override "username" in config file. This is your IRIDA
                        account username.
  -cp [CONFIG_PASSWORD], --config_password [CONFIG_PASSWORD]
                        Override "password" in config file. This corresponds
                        to your IRIDA account.
  -cb [CONFIG_BASE_URL], --config_base_url [CONFIG_BASE_URL]
                        Override "base_url" in config file. The api url for
                        your irida instance (example:
                        https://my.irida.server/api/)
  -cr [CONFIG_PARSER], --config_parser [CONFIG_PARSER]
                        Override "parser" in config file. Choose the type of
                        sequencer data that is being uploaded. Supported
                        parsers: ['miseq', 'miseq_v26', 'miseq_v31',
                        'miseq_win10_jun2021', 'miniseq', 'nextseq',
                        'nextseq2k_nml', 'iseq', 'directory',
                        'nanopore_assemblies', 'seqfu']
  -r, --readonly        Upload in Read Only mode, does not write status or log
                        file to run directory.
  -cd [DELAY], --delay [DELAY]
                        Accepts an Integer for minutes to delay. When set, new
                        runs will have their status set to delayed. When
                        uploading a run with the delayed status, the run will
                        only upload if the given amount of minutes has passes
                        since it was set to delayed. Default = 0: When set to
                        0, runs will not be given delayed status.
  -ct [CONFIG_TIMEOUT], --config_timeout [CONFIG_TIMEOUT]
                        Accepts an Integer for the expected transfer time in
                        seconds per MB. Default is 10 second for every MB of
                        data to transfer (100kb/s). Increasing this number can
                        reduce timeout errors when your transfer speed is very
                        slow.

-c* options can be used without a parameter to prompt for input.

Resource usage statistics from testing irida-uploader:
   Process count: 4
   CPU time: Sys=0:00:00.1, User=0:00:00.3
   Memory: 35.3M
   Disk usage: 16B
   Time elapsed: 0:00:06.2


TEST END: irida-uploader-0.6.2-py36hdfd78af_1.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

