Updating build index: /Users/runner/conda/conda-bld

TEST START: shortstack-3.8.5-1.tar.bz2
Adding in variants from internal_defaults
Adding in variants from /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/tmp6o4tqglw/info/recipe/conda_build_config.yaml
  Package                 Version  Build                 Channel                                    Size
──────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
──────────────────────────────────────────────────────────────────────────────────────────────────────────

  + bowtie                  1.2.3  py37h770b8ee_0        bioconda/osx-64                            1 MB
  + bzip2                   1.0.8  h0d85af4_4            conda-forge/osx-64                       Cached
  + c-ares                 1.17.2  h0d85af4_0            conda-forge/osx-64                       Cached
  + ca-certificates     2021.5.30  h033912b_0            conda-forge/osx-64                       Cached
  + htslib                   1.13  hc38c3fb_0            bioconda/osx-64                            2 MB
  + krb5                   1.19.2  hcfbf3a7_0            conda-forge/osx-64                       Cached
  + libcurl                7.78.0  hf45b732_0            conda-forge/osx-64                       Cached
  + libcxx                 12.0.1  habf9029_0            conda-forge/osx-64                       Cached
  + libdeflate                1.7  h35c211d_5            conda-forge/osx-64                       Cached
  + libedit          3.1.20191231  h0678c8f_2            conda-forge/osx-64                       Cached
  + libev                    4.33  haf1e3a3_1            conda-forge/osx-64                       Cached
  + libffi                    3.3  h046ec9c_2            conda-forge/osx-64                       Cached
  + libnghttp2             1.43.0  h07e645a_0            conda-forge/osx-64                       Cached
  + libssh2                1.10.0  h52ee1ee_0            conda-forge/osx-64                       Cached
  + llvm-openmp            12.0.1  hda6cdc1_1            conda-forge/osx-64                       Cached
  + ncurses                   6.2  h2e338ed_4            conda-forge/osx-64                       Cached
  + openssl                1.1.1l  h0d85af4_0            conda-forge/osx-64                       Cached
  + perl                   5.32.1  0_h0d85af4_perl5      conda-forge/osx-64                        13 MB
  + pip                    21.2.4  pyhd8ed1ab_0          conda-forge/noarch                       Cached
  + python                 3.7.10  h7728216_100_cpython  conda-forge/osx-64                        24 MB
  + python_abi                3.7  2_cp37m               conda-forge/osx-64                         4 KB
  + readline                  8.1  h05e3726_0            conda-forge/osx-64                       Cached
  + samtools                 1.13  h7596a89_0            bioconda/osx-64                          404 KB
  + setuptools             57.4.0  py37hf985489_0        conda-forge/osx-64                       963 KB
  + shortstack              3.8.5  1                     /Users/runner/conda/conda-bld/osx-64      60 KB
  + sqlite                 3.36.0  h23a322b_0            conda-forge/osx-64                       Cached
  + tbb                  2021.3.0  h940c156_0            conda-forge/osx-64                       162 KB
  + tk                     8.6.11  h5dbffcc_1            conda-forge/osx-64                       Cached
  + viennarna              2.4.18  py37hee36c69_0        bioconda/osx-64                           22 MB
  + wheel                  0.37.0  pyhd8ed1ab_1          conda-forge/noarch                       Cached
  + xz                      5.2.5  haf1e3a3_1            conda-forge/osx-64                       Cached
  + zlib                   1.2.11  h7795811_1010         conda-forge/osx-64                       Cached

  Summary:

  Install: 32 packages

  Total download: 64 MB

──────────────────────────────────────────────────────────────────────────────────────────────────────────


## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/shortstack_1630693046666/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehol


The following NEW packages will be INSTALLED:

    bowtie:          1.2.3-py37h770b8ee_0        bioconda   
    bzip2:           1.0.8-h0d85af4_4            conda-forge
    c-ares:          1.17.2-h0d85af4_0           conda-forge
    ca-certificates: 2021.5.30-h033912b_0        conda-forge
    htslib:          1.13-hc38c3fb_0             bioconda   
    krb5:            1.19.2-hcfbf3a7_0           conda-forge
    libcurl:         7.78.0-hf45b732_0           conda-forge
    libcxx:          12.0.1-habf9029_0           conda-forge
    libdeflate:      1.7-h35c211d_5              conda-forge
    libedit:         3.1.20191231-h0678c8f_2     conda-forge
    libev:           4.33-haf1e3a3_1             conda-forge
    libffi:          3.3-h046ec9c_2              conda-forge
    libnghttp2:      1.43.0-h07e645a_0           conda-forge
    libssh2:         1.10.0-h52ee1ee_0           conda-forge
    llvm-openmp:     12.0.1-hda6cdc1_1           conda-forge
    ncurses:         6.2-h2e338ed_4              conda-forge
    openssl:         1.1.1l-h0d85af4_0           conda-forge
    perl:            5.32.1-0_h0d85af4_perl5     conda-forge
    pip:             21.2.4-pyhd8ed1ab_0         conda-forge
    python:          3.7.10-h7728216_100_cpython conda-forge
    python_abi:      3.7-2_cp37m                 conda-forge
    readline:        8.1-h05e3726_0              conda-forge
    samtools:        1.13-h7596a89_0             bioconda   
    setuptools:      57.4.0-py37hf985489_0       conda-forge
    shortstack:      3.8.5-1                     local      
    sqlite:          3.36.0-h23a322b_0           conda-forge
    tbb:             2021.3.0-h940c156_0         conda-forge
    tk:              8.6.11-h5dbffcc_1           conda-forge
    viennarna:       2.4.18-py37hee36c69_0       bioconda   
    wheel:           0.37.0-pyhd8ed1ab_1         conda-forge
    xz:              5.2.5-haf1e3a3_1            conda-forge
    zlib:            1.2.11-h7795811_1010        conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/shortstack_1630693046666/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehol
export SRC_DIR=/Users/runner/conda/conda-bld/shortstack_1630693046666/test_tmp

ShortStack version 3.8.5
Usage: ShortStack [options] {--readfile <r> | {--bamfile <b> | --cramfile <c>}} --genomefile <g>

<r> : readfile must be in fasta (.fasta or .fa), colorspace-fasta (.csfasta), 
      or fastq (.fastq or .fq) format, or their gzip-compressed versions
      (.fasta.gz, .fa.gz, .csfasta.gz, .fastq.gz, or .fq.gz)
      Can also be a list (seperated by spaces) of several read files.
<b> : BAM formatted alignment file (.bam).
<c> : CRAM formatted alignment file (.cram).
<g> : FASTA formatted (.fa or .fasta) genome file.

Dependencies (in PATH):

samtools (version 1.x)
bowtie (if aligning)
bowtie-build (if aligning and .ebwt indices not found)
gzip (if aligning)
RNAfold (unless running with --nohp option to disable MIRNA search)

General Options:

--help : print this message and quit

--version : print version and quit

--genomefile [string] : path to reference genome in .fasta or .fa format. Required for any run.

--outdir [string] : name of output directory to be created for results. Defaults to 'ShortStack_[time]', 
  where [time] is the current UNIX time according to the system. If the outdir already exists, ShortStack
  will exit with an error message.

Alignment Options:

--readfile [string] : path to readfile(s) to be aligned. valid formats: .fasta, .fa, .fasta.gz,
  .fa.gz, .fastq, .fq, .fastq.gz, .fq.gz, .csfasta, .csfasta.gz. Multiple files, can be specified as 
  separate arguments to --readfile ... e.g. --readfile file1.fastq file2.fastq file3.fastq
  Mutually exclusive with --bamfile or --cramfile.

--adapter [string] : sequence of 3' adapter to trim off during read-pre processing. Must be at least 
  8 bases, with only ATCG characters. If not specified, reads are assumed to be already trimmed.

--bowtie_cores [integer] : Argument to be passed to bowtie's -p option, specifying number of processor
  cores to request during alignment. Defaults to 1. Must be an integer of 1 or more.

--sort_mem [string] : Argument to be passed to samtools sort -m option, which sets the maximum memory
  usage during bam file sorting. If not set, samtools sort defaults it to 768M. Higher settings will
  reduce the overall time spent in alignment phase, at cost of more memory usage. Use K/M/G suffixes to 
  specify kilobytes, megabytes, and gigabytes, respectively. Extremely large alignment jobs will
  crash (due to crash of samtools sort operation) if --sort_mem is not set high enough. However, alignment
  jobs will also crash if sort_mem is set too high, and all physical memory on your machine is exahusted.

--mismatches [integer] : Argument to be passed to bowtie's -v option, specifying number of mismatches
  to be tolerated in a valid alignment. Must be either 0, 1, or 2. In cases of multiple hits, only hits
  with lowest number of mismatches kept. Default: 1.

--cquals [string] : path(s) to color-space quality value file(s). Used only in conjunction with .csfasta 
  or .csfasta.gz formatted files in --readfile. Compressed format for cquals is NOT allowed. Like --readfile, 
  cquals can take multiple arguments for multiple files, e.g. --cquals file1.qual file2.qual file3.qual

--cram : When aligning, convert final alignment to cram format instead of the default bam format.

--mmap [string] : Protocol for handling multi-mapped reads. Valid entries are n (none), r (random), u (unique-
  seeded guide), or f (fractional-seeded guide). default: u

--bowtie_m [string] : Setting to be passed to the -m option of bowtie. Over-ridden and set to 1 if option
  mmap is set to n. This sets the maximum number of multi-mappings allowed. Valid settings are integers >= 1 OR set 'all' 
  to disable suppression of highly multi-mapped reads. Default: 50

--ranmax [string] : Reads with more than this number of possible alignment positions where the 
  choice can't be guided by unequal  will be reported as unmapped. Irrelevant if option mmap is set
  to n or r. Must be integer of 2 or greater or set to 'none' to disable. Default: 3.

--align_only : If this switch is present, the ShortStack run will terminate after the alignment phase
  with no analysis performed.

--show_secondaries : If this switch is present, the output alignment file will contain secondary alignments
  as well as primary alignments for multi-mapped reads. Secondary alignments have bit 256 set in the SAM FLAG field.
  This option can increase alignment file size, sometimes by a lot.

--keep_quals : As of version 3.5, by default ShortStack alignments no longer store the quality values, to save space. Use 
  of this switch will cause quality values to be retained. Note that this increases file size.

Analysis Options:

--bamfile [string] : path to input .bam alignment file of small RNAs. Only lines with bits 4 and 256
  unset will be used. Mutually exclusive with --readfile or --cramfile.

--cramfile [string] : path to input .cram alignment file of small RNAs. Only lines with bits 4 and 256
  unset will be used. Mutually exclusive with --readfile or --bamfile.

--dicermin [integer] : Minimum size of a Dicer-processed small RNA. Must be an integer of at least 15
  and <= dicermax. Default: 20.

--dicermax [integer] : Maximum size of a Dicer-processed small RNA. Must be an integer of at least 15
  and >= dicermin. Deafult: 24.

--foldsize [integer] : Size of genomic RNA segments for folding during MIRNA search. Any loci larger
  than this size will not be analyzed with respect for MIRNA features. Must be an integer of at 
  least 200 and no larger than 1,000. Default: 300. Note that increasing this setting may drastically
  increase runtimes.

--locifile [string] : Path to a tab-delimited plain-text file listing intervals to analyze. Lines
  starting with # are ignored. First column is coordinate in format Chr:start-stop, second column
  is names (optional), and any other columns are ignored. Mutually exclusive with option --locus.

--locus [string] : Analyze the specified interval(s). Interval(s) is specified in format Chr:start-stop.
  Multiple intervals can be specified in a comma-separated list. Mutually exclusive with option 
  --locifile. Specify the value for --total_primaries to make a single locus run fast.

--nohp : Disable MIRNA search.

--pad [integer] : Initially found clusters of small RNAs will be merged if the distance between them is
  less than or equal to the value of pad. Must be an integer between 0 and 50000. Default: 75.

--mincov [string] : Clusters of small RNAs must have at least this many alignments. Supply an
  integer between 1 and 50000. Can also be a normalized value in reads per million (rpm) OR reads per million mapped (rpmm). When specifying mincov in 
  rpm or rpmm, the mincov value must be a floating point number > 0 and < 500,000 followed
  by the string 'rpm' or 'rpmm'. Examples: '5' --> threshold is 5 raw reads. '3.2rpm' --> threshold is 
  3.2 reads per million mapped. '2.8rpmm' --> threshold is 2.8 reads per million mapped. Deafult: 0.5rpm.

--strand_cutoff [float] : Cutoff for calling the strandedness of a locus. Must be a floating point number 
  between 0.5 and 1 (inclusive). DEFAULT: 0.8. At default of 0.8, a locus must have 80% of more of its 
  reads on the top strand to be called a + strand locus, or 20% or less on the top strand to be a - 
  strand locus. All others receive no strand call (e.g. '.'). Only stranded loci are analyzed for 
  MIRNAs, while only unstranded loci are analyzed with respect to phasing. Most users probably want
  to use the default setting of 0.8.

--total_primaries [integer] : Tell ShortStack the total number of primary alignments in the bam file. Specifying
  this value here speeds the analysis, since ShortStack does not need to count the reads directly from the bam file.
  Can only be specified in conjunction with --bamfile. This count should include all primary alignment INCLUDING unplaced ones.

Type perldoc ShortStack for documentation, or see README

ShortStack version 3.8.5

Resource usage statistics from testing shortstack:
   Process count: 2
   CPU time: Sys=0:00:00.0, User=0:00:00.0
   Memory: 10.3M
   Disk usage: 12B
   Time elapsed: 0:00:02.0


TEST END: shortstack-3.8.5-1.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

