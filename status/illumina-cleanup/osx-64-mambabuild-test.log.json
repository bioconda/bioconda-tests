Updating build index: /Users/runner/conda/conda-bld

TEST START: illumina-cleanup-1.0.0-0.tar.bz2
Adding in variants from internal_defaults
Adding in variants from /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/tmpgelk9q0u/info/recipe/conda_build_config.yaml
  Package                           Version  Build             Channel                                    Size
────────────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────────────

  + bbmap                             38.92  hcda5e54_0        bioconda/osx-64                            9 MB
  + bzip2                             1.0.8  h0d85af4_4        conda-forge/osx-64                       Cached
  + c-ares                           1.17.2  h0d85af4_0        conda-forge/osx-64                       Cached
  + ca-certificates               2021.5.30  h033912b_0        conda-forge/osx-64                       Cached
  + coreutils                          8.31  h0b31af3_0        conda-forge/osx-64                       Cached
  + curl                             7.78.0  hb861fe1_0        conda-forge/osx-64                       Cached
  + fastq-scan                        0.4.4  hb280591_0        bioconda/osx-64                           22 KB
  + fastqc                           0.11.9  hdfd78af_1        bioconda/noarch                           10 MB
  + font-ttf-dejavu-sans-mono          2.37  hab24e00_0        conda-forge/noarch                       Cached
  + fontconfig                       2.13.1  h10f422b_1005     conda-forge/osx-64                       Cached
  + freetype                         2.10.4  h4cff582_1        conda-forge/osx-64                       Cached
  + htslib                             1.13  hc38c3fb_0        bioconda/osx-64                            2 MB
  + icu                                68.1  h74dc148_0        conda-forge/osx-64                       Cached
  + illumina-cleanup                  1.0.0  0                 /Users/runner/conda/conda-bld/osx-64      10 KB
  + krb5                             1.19.2  hcfbf3a7_0        conda-forge/osx-64                       Cached
  + libcurl                          7.78.0  hf45b732_0        conda-forge/osx-64                       Cached
  + libcxx                           12.0.1  habf9029_0        conda-forge/osx-64                       Cached
  + libdeflate                          1.7  h35c211d_5        conda-forge/osx-64                       Cached
  + libedit                    3.1.20191231  h0678c8f_2        conda-forge/osx-64                       Cached
  + libev                              4.33  haf1e3a3_1        conda-forge/osx-64                       Cached
  + libiconv                           1.16  haf1e3a3_0        conda-forge/osx-64                       Cached
  + libnghttp2                       1.43.0  h07e645a_0        conda-forge/osx-64                       Cached
  + libpng                           1.6.37  h7cec526_2        conda-forge/osx-64                       Cached
  + libssh2                          1.10.0  h52ee1ee_0        conda-forge/osx-64                       Cached
  + libxml2                          2.9.12  h93ec3fd_0        conda-forge/osx-64                       Cached
  + lighter                           1.1.2  h87af4ef_3        bioconda/osx-64                           50 KB
  + ncurses                             6.2  h2e338ed_4        conda-forge/osx-64                       Cached
  + nextflow                        21.04.0  h4a94de4_0        bioconda/noarch                           24 MB
  + openjdk                        11.0.9.1  hcf210ce_1        conda-forge/osx-64                       169 MB
  + openssl                          1.1.1l  h0d85af4_0        conda-forge/osx-64                       Cached
  + pbzip2                           1.1.13  h9d27c22_1        conda-forge/osx-64                        49 KB
  + perl                             5.32.1  0_h0d85af4_perl5  conda-forge/osx-64                        13 MB
  + pigz                                2.6  h5dbffcc_0        conda-forge/osx-64                        88 KB
  + samtools                           1.13  h7596a89_0        bioconda/osx-64                          404 KB
  + tk                               8.6.11  h5dbffcc_1        conda-forge/osx-64                       Cached
  + xz                                5.2.5  haf1e3a3_1        conda-forge/osx-64                       Cached
  + zlib                             1.2.11  h7795811_1010     conda-forge/osx-64                       Cached

  Summary:

  Install: 37 packages

  Total download: 227 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────────────


## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/illumina-cleanup_1630941320143/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pl


The following NEW packages will be INSTALLED:

    bbmap:                     38.92-hcda5e54_0        bioconda   
    bzip2:                     1.0.8-h0d85af4_4        conda-forge
    c-ares:                    1.17.2-h0d85af4_0       conda-forge
    ca-certificates:           2021.5.30-h033912b_0    conda-forge
    coreutils:                 8.31-h0b31af3_0         conda-forge
    curl:                      7.78.0-hb861fe1_0       conda-forge
    fastq-scan:                0.4.4-hb280591_0        bioconda   
    fastqc:                    0.11.9-hdfd78af_1       bioconda   
    font-ttf-dejavu-sans-mono: 2.37-hab24e00_0         conda-forge
    fontconfig:                2.13.1-h10f422b_1005    conda-forge
    freetype:                  2.10.4-h4cff582_1       conda-forge
    htslib:                    1.13-hc38c3fb_0         bioconda   
    icu:                       68.1-h74dc148_0         conda-forge
    illumina-cleanup:          1.0.0-0                 local      
    krb5:                      1.19.2-hcfbf3a7_0       conda-forge
    libcurl:                   7.78.0-hf45b732_0       conda-forge
    libcxx:                    12.0.1-habf9029_0       conda-forge
    libdeflate:                1.7-h35c211d_5          conda-forge
    libedit:                   3.1.20191231-h0678c8f_2 conda-forge
    libev:                     4.33-haf1e3a3_1         conda-forge
    libiconv:                  1.16-haf1e3a3_0         conda-forge
    libnghttp2:                1.43.0-h07e645a_0       conda-forge
    libpng:                    1.6.37-h7cec526_2       conda-forge
    libssh2:                   1.10.0-h52ee1ee_0       conda-forge
    libxml2:                   2.9.12-h93ec3fd_0       conda-forge
    lighter:                   1.1.2-h87af4ef_3        bioconda   
    ncurses:                   6.2-h2e338ed_4          conda-forge
    nextflow:                  21.04.0-h4a94de4_0      bioconda   
    openjdk:                   11.0.9.1-hcf210ce_1     conda-forge
    openssl:                   1.1.1l-h0d85af4_0       conda-forge
    pbzip2:                    1.1.13-h9d27c22_1       conda-forge
    perl:                      5.32.1-0_h0d85af4_perl5 conda-forge
    pigz:                      2.6-h5dbffcc_0          conda-forge
    samtools:                  1.13-h7596a89_0         bioconda   
    tk:                        8.6.11-h5dbffcc_1       conda-forge
    xz:                        5.2.5-haf1e3a3_1        conda-forge
    zlib:                      1.2.11-h7795811_1010    conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/illumina-cleanup_1630941320143/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pl
export SRC_DIR=/Users/runner/conda/conda-bld/illumina-cleanup_1630941320143/test_tmp
N E X T F L O W  ~  version 21.04.0
Launching `$PREFIX/bin/illumina-cleanup` [boring_lorenz] - revision: a3db52e6a6

illumina-cleanup v1.0.0
Usage: illumina-cleanup --fastqs input_fastqs.txt --max_cpus 8

Requirements: bbmap fastqc fastq-scan lighter nextflow pigz

Required Parameters:
    --fastqs STR        An input file containing the sample name and absolute
                            paths to FASTQs to process.


Optional Parameters:
    --coverage INT      Reduce samples to a given coverage. (Default: 100)

    --genome_size INT   Expected genome size (bp) for all samples. (Default: 0).

    --outdir DIR        Directory to write results to. (Default ./)

    --max_cpus INT       The maximum number of processors this workflow should
                             have access to at any given moment. (Default: 1)

    --cpus INT          Number of processors made available to a single process.
                            If greater than "--max_cpus" it will be set equal to
                            "--max_cpus" (Default: 1)

    --example_fastqs    Print an example of expected input for FASTQs file.

    --check_fastqs      Verify "--fastqs" produces the expected inputs.

    --keep_cache        Keeps 'work' and '.nextflow' logs, default is to
                            delete on successful completion.

BBDuk Parameters:
    --adapters FASTA    Illumina adapters to remove (Default: BBmap adapters)

    --adapter_k INT     Kmer length used for finding adapters. Adapters
                            shorter than k will not be found. (Default: 23)

    --phix FASTA        phiX174 reference genome to remove (Default: NC_001422)

    --phix_k INT        Kmer length used for finding phiX174. Contaminants
                            shorter than k will not be found. (Default: 31)

    --ktrim STR         Trim reads to remove bases matching reference kmers.
                            Values:
                                f (do not trim)
                                r (trim to the right, Default)
                                l (trim to the left)

    --mink INT          Look for shorter kmers at read tips down to this
                            length, when k-trimming or masking. 0 means
                            disabled. Enabling this will disable maskmiddle.
                            (Default: 11)

    --hdist INT         Maximum Hamming distance for ref kmers (subs only).
                            Memory use is proportional to (3*K)^hdist.
                            (Default: 1)

    --tpe BOOL          When kmer right-trimming, trim both reads to the
                            minimum length of either.
                            Values:
                                f (do not equally trim)
                                t (equally trim to the right, Default)

    --tbo BOOL          Trim adapters based on where paired reads overlap.
                            Values:
                                f (do not trim by overlap)
                                t (trim by overlap, Default)

    --qtrim STR         Trim read ends to remove bases with quality below
                            trimq. Performed AFTER looking for kmers. Values:
                                rl (trim both ends, Default)
                                f (neither end)
                                r (right end only)
                                l (left end only)
                                w (sliding window)

    --trimq FLOAT       Regions with average quality BELOW this will be
                            trimmed if qtrim is set to something other than f.
                            (Default: 6)

    --maq INT           Reads with average quality (after trimming) below
                            this will be discarded. (Default: 20)

    --minlength INT     Reads shorter than this after trimming will be
                            discarded. Pairs will be discarded if both are
                            shorter. (Default: 35)

    --ftm INT           If positive, right-trim length to be equal to zero,
                            modulo this number. (Default: 0)

    --tossjunk          Discard reads with invalid characters as bases.
                            Values:
                                f (keep all reads)
                                t (toss reads with ambiguous bases, Default)

    --qout STR          Output quality offset.
                            Values:
                                33 (PHRED33 offset quality scores, Default)
                                64 (PHRED64 offset quality scores)
                                auto (keeps the current input offset)

    --xmx STR           This will be passed to Java to set memory usage.
                            Examples:
                                8g will specify 8 gigs of RAM (Default)
                                20g will specify 20 gigs of RAM
                                200m will specify 200 megs of RAM

Lighter Parameters:
    --maxcor INT        Max number of corrections within a 20bp window
                            (Default: 1)

Reformat (BBmap) Parameters:
    --sampleseed INT    Set to a positive number to use that prng seed for
                            sampling (Default 42).

    --version           Print workflow version information
    --help              Show this message and exit

N E X T F L O W  ~  version 21.04.0
Launching `$PREFIX/bin/illumina-cleanup` [angry_lavoisier] - revision: a3db52e6a6

illumina-cleanup v1.0.0
Usage: illumina-cleanup --fastqs input_fastqs.txt --max_cpus 8

Requirements: bbmap fastqc fastq-scan lighter nextflow pigz

Required Parameters:
    --fastqs STR        An input file containing the sample name and absolute
                            paths to FASTQs to process.


Optional Parameters:
    --coverage INT      Reduce samples to a given coverage. (Default: 100)

    --genome_size INT   Expected genome size (bp) for all samples. (Default: 0).

    --outdir DIR        Directory to write results to. (Default ./)

    --max_cpus INT       The maximum number of processors this workflow should
                             have access to at any given moment. (Default: 1)

    --cpus INT          Number of processors made available to a single process.
                            If greater than "--max_cpus" it will be set equal to
                            "--max_cpus" (Default: 1)

    --example_fastqs    Print an example of expected input for FASTQs file.

    --check_fastqs      Verify "--fastqs" produces the expected inputs.

    --keep_cache        Keeps 'work' and '.nextflow' logs, default is to
                            delete on successful completion.

BBDuk Parameters:
    --adapters FASTA    Illumina adapters to remove (Default: BBmap adapters)

    --adapter_k INT     Kmer length used for finding adapters. Adapters
                            shorter than k will not be found. (Default: 23)

    --phix FASTA        phiX174 reference genome to remove (Default: NC_001422)

    --phix_k INT        Kmer length used for finding phiX174. Contaminants
                            shorter than k will not be found. (Default: 31)

    --ktrim STR         Trim reads to remove bases matching reference kmers.
                            Values:
                                f (do not trim)
                                r (trim to the right, Default)
                                l (trim to the left)

    --mink INT          Look for shorter kmers at read tips down to this
                            length, when k-trimming or masking. 0 means
                            disabled. Enabling this will disable maskmiddle.
                            (Default: 11)

    --hdist INT         Maximum Hamming distance for ref kmers (subs only).
                            Memory use is proportional to (3*K)^hdist.
                            (Default: 1)

    --tpe BOOL          When kmer right-trimming, trim both reads to the
                            minimum length of either.
                            Values:
                                f (do not equally trim)
                                t (equally trim to the right, Default)

    --tbo BOOL          Trim adapters based on where paired reads overlap.
                            Values:
                                f (do not trim by overlap)
                                t (trim by overlap, Default)

    --qtrim STR         Trim read ends to remove bases with quality below
                            trimq. Performed AFTER looking for kmers. Values:
                                rl (trim both ends, Default)
                                f (neither end)
                                r (right end only)
                                l (left end only)
                                w (sliding window)

    --trimq FLOAT       Regions with average quality BELOW this will be
                            trimmed if qtrim is set to something other than f.
                            (Default: 6)

    --maq INT           Reads with average quality (after trimming) below
                            this will be discarded. (Default: 20)

    --minlength INT     Reads shorter than this after trimming will be
                            discarded. Pairs will be discarded if both are
                            shorter. (Default: 35)

    --ftm INT           If positive, right-trim length to be equal to zero,
                            modulo this number. (Default: 0)

    --tossjunk          Discard reads with invalid characters as bases.
                            Values:
                                f (keep all reads)
                                t (toss reads with ambiguous bases, Default)

    --qout STR          Output quality offset.
                            Values:
                                33 (PHRED33 offset quality scores, Default)
                                64 (PHRED64 offset quality scores)
                                auto (keeps the current input offset)

    --xmx STR           This will be passed to Java to set memory usage.
                            Examples:
                                8g will specify 8 gigs of RAM (Default)
                                20g will specify 20 gigs of RAM
                                200m will specify 200 megs of RAM

Lighter Parameters:
    --maxcor INT        Max number of corrections within a 20bp window
                            (Default: 1)

Reformat (BBmap) Parameters:
    --sampleseed INT    Set to a positive number to use that prng seed for
                            sampling (Default 42).

    --version           Print workflow version information
    --help              Show this message and exit

N E X T F L O W  ~  version 21.04.0
Launching `$PREFIX/bin/illumina-cleanup` [dreamy_colden] - revision: a3db52e6a6
illumina-cleanup 1.0.0

Resource usage statistics from testing illumina-cleanup:
   Process count: 6
   CPU time: Sys=0:00:01.1, User=0:00:12.3
   Memory: 374.0M
   Disk usage: 28B
   Time elapsed: 0:00:18.3


TEST END: illumina-cleanup-1.0.0-0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

