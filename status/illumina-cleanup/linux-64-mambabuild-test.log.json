Updating build index: /home/vsts/conda/conda-bld

TEST START: illumina-cleanup-1.0.0-0.tar.bz2
Adding in variants from internal_defaults
Adding in variants from /tmp/tmp8ko1mtfx/info/recipe/conda_build_config.yaml
  Package                           Version  Build             Channel                                   Size
───────────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
───────────────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex                       0.1  conda_forge       conda-forge/linux-64                    Cached
  + _openmp_mutex                       4.5  1_gnu             conda-forge/linux-64                    Cached
  + alsa-lib                          1.2.3  h516909a_0        conda-forge/linux-64                    560 KB
  + bbmap                             38.92  he522d1c_0        bioconda/linux-64                         9 MB
  + bzip2                             1.0.8  h7f98852_4        conda-forge/linux-64                    Cached
  + c-ares                           1.17.2  h7f98852_0        conda-forge/linux-64                    Cached
  + ca-certificates               2021.5.30  ha878542_0        conda-forge/linux-64                    Cached
  + cairo                            1.16.0  h6cf1ce9_1008     conda-forge/linux-64                    Cached
  + coreutils                          8.31  h516909a_0        conda-forge/linux-64                    Cached
  + curl                             7.78.0  hea6ffbf_0        conda-forge/linux-64                    Cached
  + fastq-scan                        0.4.4  h7d875b9_0        bioconda/linux-64                        20 KB
  + fastqc                           0.11.9  hdfd78af_1        bioconda/noarch                          10 MB
  + font-ttf-dejavu-sans-mono          2.37  hab24e00_0        conda-forge/noarch                      Cached
  + fontconfig                       2.13.1  hba837de_1005     conda-forge/linux-64                    Cached
  + freetype                         2.10.4  h0708190_1        conda-forge/linux-64                    Cached
  + gettext                        0.19.8.1  h0b5b191_1005     conda-forge/linux-64                    Cached
  + giflib                            5.2.1  h36c2ea0_2        conda-forge/linux-64                    Cached
  + graphite2                        1.3.13  h58526e2_1001     conda-forge/linux-64                    Cached
  + harfbuzz                          2.9.0  h83ec7ef_0        conda-forge/linux-64                    Cached
  + htslib                             1.13  h9093b5e_0        bioconda/linux-64                         2 MB
  + icu                                68.1  h58526e2_0        conda-forge/linux-64                    Cached
  + illumina-cleanup                  1.0.0  0                 /home/vsts/conda/conda-bld/linux-64      10 KB
  + jbig                                2.1  h7f98852_2003     conda-forge/linux-64                    Cached
  + jpeg                                 9d  h36c2ea0_0        conda-forge/linux-64                    Cached
  + krb5                             1.19.2  hcc1bbae_0        conda-forge/linux-64                    Cached
  + lcms2                              2.12  hddcbb42_0        conda-forge/linux-64                    443 KB
  + lerc                              2.2.1  h9c3ff4c_0        conda-forge/linux-64                    Cached
  + libcurl                          7.78.0  h2574ce0_0        conda-forge/linux-64                    Cached
  + libdeflate                          1.7  h7f98852_5        conda-forge/linux-64                    Cached
  + libedit                    3.1.20191231  he28a2e2_2        conda-forge/linux-64                    Cached
  + libev                              4.33  h516909a_1        conda-forge/linux-64                    Cached
  + libffi                              3.3  h58526e2_2        conda-forge/linux-64                    Cached
  + libgcc-ng                        11.1.0  hc902ee8_8        conda-forge/linux-64                    Cached
  + libglib                          2.68.4  h3e27bee_0        conda-forge/linux-64                    Cached
  + libgomp                          11.1.0  hc902ee8_8        conda-forge/linux-64                    Cached
  + libiconv                           1.16  h516909a_0        conda-forge/linux-64                    Cached
  + libnghttp2                       1.43.0  h812cca2_0        conda-forge/linux-64                    Cached
  + libpng                           1.6.37  h21135ba_2        conda-forge/linux-64                    Cached
  + libssh2                          1.10.0  ha56f1ee_0        conda-forge/linux-64                    Cached
  + libstdcxx-ng                     11.1.0  h56837e0_8        conda-forge/linux-64                    Cached
  + libtiff                           4.3.0  hf544144_1        conda-forge/linux-64                    Cached
  + libuuid                          2.32.1  h7f98852_1000     conda-forge/linux-64                    Cached
  + libwebp-base                      1.2.1  h7f98852_0        conda-forge/linux-64                    Cached
  + libxcb                             1.13  h7f98852_1003     conda-forge/linux-64                    Cached
  + libxml2                          2.9.12  h72842e0_0        conda-forge/linux-64                    Cached
  + lighter                           1.1.2  h9a82719_3        bioconda/linux-64                        54 KB
  + lz4-c                             1.9.3  h9c3ff4c_1        conda-forge/linux-64                    Cached
  + ncurses                             6.2  h58526e2_4        conda-forge/linux-64                    Cached
  + nextflow                        21.04.0  h4a94de4_0        bioconda/noarch                          24 MB
  + openjdk                        11.0.9.1  h5cc2fde_1        conda-forge/linux-64                    173 MB
  + openssl                          1.1.1l  h7f98852_0        conda-forge/linux-64                    Cached
  + pbzip2                           1.1.13  0                 conda-forge/linux-64                    114 KB
  + pcre                               8.45  h9c3ff4c_0        conda-forge/linux-64                    Cached
  + perl                             5.32.1  0_h7f98852_perl5  conda-forge/linux-64                     14 MB
  + pigz                                2.6  h27826a3_0        conda-forge/linux-64                     87 KB
  + pixman                           0.40.0  h36c2ea0_0        conda-forge/linux-64                    Cached
  + pthread-stubs                       0.4  h36c2ea0_1001     conda-forge/linux-64                    Cached
  + samtools                           1.13  h8c37831_0        bioconda/linux-64                       397 KB
  + tk                               8.6.11  h27826a3_1        conda-forge/linux-64                    Cached
  + xorg-fixesproto                     5.0  h7f98852_1002     conda-forge/linux-64                      9 KB
  + xorg-inputproto                   2.3.2  h7f98852_1002     conda-forge/linux-64                     19 KB
  + xorg-kbproto                      1.0.7  h7f98852_1002     conda-forge/linux-64                    Cached
  + xorg-libice                      1.0.10  h7f98852_0        conda-forge/linux-64                    Cached
  + xorg-libsm                        1.2.3  hd9c2040_1000     conda-forge/linux-64                    Cached
  + xorg-libx11                       1.7.2  h7f98852_0        conda-forge/linux-64                    Cached
  + xorg-libxau                       1.0.9  h7f98852_0        conda-forge/linux-64                    Cached
  + xorg-libxdmcp                     1.1.3  h7f98852_0        conda-forge/linux-64                    Cached
  + xorg-libxext                      1.3.4  h7f98852_1        conda-forge/linux-64                    Cached
  + xorg-libxfixes                    5.0.3  h7f98852_1004     conda-forge/linux-64                     18 KB
  + xorg-libxi                       1.7.10  h7f98852_0        conda-forge/linux-64                     46 KB
  + xorg-libxrender                  0.9.10  h7f98852_1003     conda-forge/linux-64                    Cached
  + xorg-libxtst                      1.2.3  h7f98852_1002     conda-forge/linux-64                     31 KB
  + xorg-recordproto                 1.14.2  h7f98852_1002     conda-forge/linux-64                      8 KB
  + xorg-renderproto                 0.11.1  h7f98852_1002     conda-forge/linux-64                    Cached
  + xorg-xextproto                    7.3.0  h7f98852_1002     conda-forge/linux-64                    Cached
  + xorg-xproto                      7.0.31  h7f98852_1007     conda-forge/linux-64                    Cached
  + xz                                5.2.5  h516909a_1        conda-forge/linux-64                    Cached
  + zlib                             1.2.11  h516909a_1010     conda-forge/linux-64                    Cached
  + zstd                              1.5.0  ha95c52a_0        conda-forge/linux-64                    Cached

  Summary:

  Install: 79 packages

  Total download: 234 MB

───────────────────────────────────────────────────────────────────────────────────────────────────────────────


## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/illumina-cleanup_1630940125299/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_place


The following NEW packages will be INSTALLED:

    _libgcc_mutex:             0.1-conda_forge         conda-forge
    _openmp_mutex:             4.5-1_gnu               conda-forge
    alsa-lib:                  1.2.3-h516909a_0        conda-forge
    bbmap:                     38.92-he522d1c_0        bioconda   
    bzip2:                     1.0.8-h7f98852_4        conda-forge
    c-ares:                    1.17.2-h7f98852_0       conda-forge
    ca-certificates:           2021.5.30-ha878542_0    conda-forge
    cairo:                     1.16.0-h6cf1ce9_1008    conda-forge
    coreutils:                 8.31-h516909a_0         conda-forge
    curl:                      7.78.0-hea6ffbf_0       conda-forge
    fastq-scan:                0.4.4-h7d875b9_0        bioconda   
    fastqc:                    0.11.9-hdfd78af_1       bioconda   
    font-ttf-dejavu-sans-mono: 2.37-hab24e00_0         conda-forge
    fontconfig:                2.13.1-hba837de_1005    conda-forge
    freetype:                  2.10.4-h0708190_1       conda-forge
    gettext:                   0.19.8.1-h0b5b191_1005  conda-forge
    giflib:                    5.2.1-h36c2ea0_2        conda-forge
    graphite2:                 1.3.13-h58526e2_1001    conda-forge
    harfbuzz:                  2.9.0-h83ec7ef_0        conda-forge
    htslib:                    1.13-h9093b5e_0         bioconda   
    icu:                       68.1-h58526e2_0         conda-forge
    illumina-cleanup:          1.0.0-0                 local      
    jbig:                      2.1-h7f98852_2003       conda-forge
    jpeg:                      9d-h36c2ea0_0           conda-forge
    krb5:                      1.19.2-hcc1bbae_0       conda-forge
    lcms2:                     2.12-hddcbb42_0         conda-forge
    lerc:                      2.2.1-h9c3ff4c_0        conda-forge
    libcurl:                   7.78.0-h2574ce0_0       conda-forge
    libdeflate:                1.7-h7f98852_5          conda-forge
    libedit:                   3.1.20191231-he28a2e2_2 conda-forge
    libev:                     4.33-h516909a_1         conda-forge
    libffi:                    3.3-h58526e2_2          conda-forge
    libgcc-ng:                 11.1.0-hc902ee8_8       conda-forge
    libglib:                   2.68.4-h3e27bee_0       conda-forge
    libgomp:                   11.1.0-hc902ee8_8       conda-forge
    libiconv:                  1.16-h516909a_0         conda-forge
    libnghttp2:                1.43.0-h812cca2_0       conda-forge
    libpng:                    1.6.37-h21135ba_2       conda-forge
    libssh2:                   1.10.0-ha56f1ee_0       conda-forge
    libstdcxx-ng:              11.1.0-h56837e0_8       conda-forge
    libtiff:                   4.3.0-hf544144_1        conda-forge
    libuuid:                   2.32.1-h7f98852_1000    conda-forge
    libwebp-base:              1.2.1-h7f98852_0        conda-forge
    libxcb:                    1.13-h7f98852_1003      conda-forge
    libxml2:                   2.9.12-h72842e0_0       conda-forge
    lighter:                   1.1.2-h9a82719_3        bioconda   
    lz4-c:                     1.9.3-h9c3ff4c_1        conda-forge
    ncurses:                   6.2-h58526e2_4          conda-forge
    nextflow:                  21.04.0-h4a94de4_0      bioconda   
    openjdk:                   11.0.9.1-h5cc2fde_1     conda-forge
    openssl:                   1.1.1l-h7f98852_0       conda-forge
    pbzip2:                    1.1.13-0                conda-forge
    pcre:                      8.45-h9c3ff4c_0         conda-forge
    perl:                      5.32.1-0_h7f98852_perl5 conda-forge
    pigz:                      2.6-h27826a3_0          conda-forge
    pixman:                    0.40.0-h36c2ea0_0       conda-forge
    pthread-stubs:             0.4-h36c2ea0_1001       conda-forge
    samtools:                  1.13-h8c37831_0         bioconda   
    tk:                        8.6.11-h27826a3_1       conda-forge
    xorg-fixesproto:           5.0-h7f98852_1002       conda-forge
    xorg-inputproto:           2.3.2-h7f98852_1002     conda-forge
    xorg-kbproto:              1.0.7-h7f98852_1002     conda-forge
    xorg-libice:               1.0.10-h7f98852_0       conda-forge
    xorg-libsm:                1.2.3-hd9c2040_1000     conda-forge
    xorg-libx11:               1.7.2-h7f98852_0        conda-forge
    xorg-libxau:               1.0.9-h7f98852_0        conda-forge
    xorg-libxdmcp:             1.1.3-h7f98852_0        conda-forge
    xorg-libxext:              1.3.4-h7f98852_1        conda-forge
    xorg-libxfixes:            5.0.3-h7f98852_1004     conda-forge
    xorg-libxi:                1.7.10-h7f98852_0       conda-forge
    xorg-libxrender:           0.9.10-h7f98852_1003    conda-forge
    xorg-libxtst:              1.2.3-h7f98852_1002     conda-forge
    xorg-recordproto:          1.14.2-h7f98852_1002    conda-forge
    xorg-renderproto:          0.11.1-h7f98852_1002    conda-forge
    xorg-xextproto:            7.3.0-h7f98852_1002     conda-forge
    xorg-xproto:               7.0.31-h7f98852_1007    conda-forge
    xz:                        5.2.5-h516909a_1        conda-forge
    zlib:                      1.2.11-h516909a_1010    conda-forge
    zstd:                      1.5.0-ha95c52a_0        conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/home/vsts/conda/conda-bld/illumina-cleanup_1630940125299/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_place
export SRC_DIR=/home/vsts/conda/conda-bld/illumina-cleanup_1630940125299/test_tmp
N E X T F L O W  ~  version 21.04.0
Launching `$PREFIX/bin/illumina-cleanup` [wise_rubens] - revision: a3db52e6a6

illumina-cleanup v1.0.0
Usage: illumina-cleanup --fastqs input_fastqs.txt --max_cpus 8

Requirements: bbmap fastqc fastq-scan lighter nextflow pigz

Required Parameters:
    --fastqs STR        An input file containing the sample name and absolute
                            paths to FASTQs to process.


Optional Parameters:
    --coverage INT      Reduce samples to a given coverage. (Default: 100)

    --genome_size INT   Expected genome size (bp) for all samples. (Default: 0).

    --outdir DIR        Directory to write results to. (Default ./)

    --max_cpus INT       The maximum number of processors this workflow should
                             have access to at any given moment. (Default: 1)

    --cpus INT          Number of processors made available to a single process.
                            If greater than "--max_cpus" it will be set equal to
                            "--max_cpus" (Default: 1)

    --example_fastqs    Print an example of expected input for FASTQs file.

    --check_fastqs      Verify "--fastqs" produces the expected inputs.

    --keep_cache        Keeps 'work' and '.nextflow' logs, default is to
                            delete on successful completion.

BBDuk Parameters:
    --adapters FASTA    Illumina adapters to remove (Default: BBmap adapters)

    --adapter_k INT     Kmer length used for finding adapters. Adapters
                            shorter than k will not be found. (Default: 23)

    --phix FASTA        phiX174 reference genome to remove (Default: NC_001422)

    --phix_k INT        Kmer length used for finding phiX174. Contaminants
                            shorter than k will not be found. (Default: 31)

    --ktrim STR         Trim reads to remove bases matching reference kmers.
                            Values:
                                f (do not trim)
                                r (trim to the right, Default)
                                l (trim to the left)

    --mink INT          Look for shorter kmers at read tips down to this
                            length, when k-trimming or masking. 0 means
                            disabled. Enabling this will disable maskmiddle.
                            (Default: 11)

    --hdist INT         Maximum Hamming distance for ref kmers (subs only).
                            Memory use is proportional to (3*K)^hdist.
                            (Default: 1)

    --tpe BOOL          When kmer right-trimming, trim both reads to the
                            minimum length of either.
                            Values:
                                f (do not equally trim)
                                t (equally trim to the right, Default)

    --tbo BOOL          Trim adapters based on where paired reads overlap.
                            Values:
                                f (do not trim by overlap)
                                t (trim by overlap, Default)

    --qtrim STR         Trim read ends to remove bases with quality below
                            trimq. Performed AFTER looking for kmers. Values:
                                rl (trim both ends, Default)
                                f (neither end)
                                r (right end only)
                                l (left end only)
                                w (sliding window)

    --trimq FLOAT       Regions with average quality BELOW this will be
                            trimmed if qtrim is set to something other than f.
                            (Default: 6)

    --maq INT           Reads with average quality (after trimming) below
                            this will be discarded. (Default: 20)

    --minlength INT     Reads shorter than this after trimming will be
                            discarded. Pairs will be discarded if both are
                            shorter. (Default: 35)

    --ftm INT           If positive, right-trim length to be equal to zero,
                            modulo this number. (Default: 0)

    --tossjunk          Discard reads with invalid characters as bases.
                            Values:
                                f (keep all reads)
                                t (toss reads with ambiguous bases, Default)

    --qout STR          Output quality offset.
                            Values:
                                33 (PHRED33 offset quality scores, Default)
                                64 (PHRED64 offset quality scores)
                                auto (keeps the current input offset)

    --xmx STR           This will be passed to Java to set memory usage.
                            Examples:
                                8g will specify 8 gigs of RAM (Default)
                                20g will specify 20 gigs of RAM
                                200m will specify 200 megs of RAM

Lighter Parameters:
    --maxcor INT        Max number of corrections within a 20bp window
                            (Default: 1)

Reformat (BBmap) Parameters:
    --sampleseed INT    Set to a positive number to use that prng seed for
                            sampling (Default 42).

    --version           Print workflow version information
    --help              Show this message and exit

N E X T F L O W  ~  version 21.04.0
Launching `$PREFIX/bin/illumina-cleanup` [peaceful_carson] - revision: a3db52e6a6

illumina-cleanup v1.0.0
Usage: illumina-cleanup --fastqs input_fastqs.txt --max_cpus 8

Requirements: bbmap fastqc fastq-scan lighter nextflow pigz

Required Parameters:
    --fastqs STR        An input file containing the sample name and absolute
                            paths to FASTQs to process.


Optional Parameters:
    --coverage INT      Reduce samples to a given coverage. (Default: 100)

    --genome_size INT   Expected genome size (bp) for all samples. (Default: 0).

    --outdir DIR        Directory to write results to. (Default ./)

    --max_cpus INT       The maximum number of processors this workflow should
                             have access to at any given moment. (Default: 1)

    --cpus INT          Number of processors made available to a single process.
                            If greater than "--max_cpus" it will be set equal to
                            "--max_cpus" (Default: 1)

    --example_fastqs    Print an example of expected input for FASTQs file.

    --check_fastqs      Verify "--fastqs" produces the expected inputs.

    --keep_cache        Keeps 'work' and '.nextflow' logs, default is to
                            delete on successful completion.

BBDuk Parameters:
    --adapters FASTA    Illumina adapters to remove (Default: BBmap adapters)

    --adapter_k INT     Kmer length used for finding adapters. Adapters
                            shorter than k will not be found. (Default: 23)

    --phix FASTA        phiX174 reference genome to remove (Default: NC_001422)

    --phix_k INT        Kmer length used for finding phiX174. Contaminants
                            shorter than k will not be found. (Default: 31)

    --ktrim STR         Trim reads to remove bases matching reference kmers.
                            Values:
                                f (do not trim)
                                r (trim to the right, Default)
                                l (trim to the left)

    --mink INT          Look for shorter kmers at read tips down to this
                            length, when k-trimming or masking. 0 means
                            disabled. Enabling this will disable maskmiddle.
                            (Default: 11)

    --hdist INT         Maximum Hamming distance for ref kmers (subs only).
                            Memory use is proportional to (3*K)^hdist.
                            (Default: 1)

    --tpe BOOL          When kmer right-trimming, trim both reads to the
                            minimum length of either.
                            Values:
                                f (do not equally trim)
                                t (equally trim to the right, Default)

    --tbo BOOL          Trim adapters based on where paired reads overlap.
                            Values:
                                f (do not trim by overlap)
                                t (trim by overlap, Default)

    --qtrim STR         Trim read ends to remove bases with quality below
                            trimq. Performed AFTER looking for kmers. Values:
                                rl (trim both ends, Default)
                                f (neither end)
                                r (right end only)
                                l (left end only)
                                w (sliding window)

    --trimq FLOAT       Regions with average quality BELOW this will be
                            trimmed if qtrim is set to something other than f.
                            (Default: 6)

    --maq INT           Reads with average quality (after trimming) below
                            this will be discarded. (Default: 20)

    --minlength INT     Reads shorter than this after trimming will be
                            discarded. Pairs will be discarded if both are
                            shorter. (Default: 35)

    --ftm INT           If positive, right-trim length to be equal to zero,
                            modulo this number. (Default: 0)

    --tossjunk          Discard reads with invalid characters as bases.
                            Values:
                                f (keep all reads)
                                t (toss reads with ambiguous bases, Default)

    --qout STR          Output quality offset.
                            Values:
                                33 (PHRED33 offset quality scores, Default)
                                64 (PHRED64 offset quality scores)
                                auto (keeps the current input offset)

    --xmx STR           This will be passed to Java to set memory usage.
                            Examples:
                                8g will specify 8 gigs of RAM (Default)
                                20g will specify 20 gigs of RAM
                                200m will specify 200 megs of RAM

Lighter Parameters:
    --maxcor INT        Max number of corrections within a 20bp window
                            (Default: 1)

Reformat (BBmap) Parameters:
    --sampleseed INT    Set to a positive number to use that prng seed for
                            sampling (Default 42).

    --version           Print workflow version information
    --help              Show this message and exit

N E X T F L O W  ~  version 21.04.0
Launching `$PREFIX/bin/illumina-cleanup` [jolly_allen] - revision: a3db52e6a6
illumina-cleanup 1.0.0

Resource usage statistics from testing illumina-cleanup:
   Process count: 3
   CPU time: Sys=0:00:00.6, User=0:00:09.6
   Memory: 408.6M
   Disk usage: 60B
   Time elapsed: 0:00:12.4


TEST END: illumina-cleanup-1.0.0-0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

