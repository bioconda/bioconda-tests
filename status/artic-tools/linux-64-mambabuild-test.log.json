  Package                 Version  Build          Channel                                   Size
──────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
──────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex             0.1  conda_forge    conda-forge/linux-64                    Cached
  + _openmp_mutex             4.5  1_gnu          conda-forge/linux-64                    Cached
  + artic-tools             0.3.0  hee4d88c_0     /home/vsts/conda/conda-bld/linux-64     322 KB
  + boost-cpp              1.70.0  h7b93d67_3     conda-forge/linux-64                     21 MB
  + bzip2                   1.0.8  h7f98852_4     conda-forge/linux-64                    Cached
  + c-ares                 1.17.2  h7f98852_0     conda-forge/linux-64                    Cached
  + ca-certificates     2021.5.30  ha878542_0     conda-forge/linux-64                    Cached
  + htslib                   1.13  h9093b5e_0     bioconda/linux-64                         2 MB
  + icu                      67.1  he1b5a44_0     conda-forge/linux-64                     13 MB
  + krb5                   1.19.2  hcc1bbae_0     conda-forge/linux-64                    Cached
  + libcurl                7.78.0  h2574ce0_0     conda-forge/linux-64                    Cached
  + libdeflate                1.7  h7f98852_5     conda-forge/linux-64                     67 KB
  + libedit          3.1.20191231  he28a2e2_2     conda-forge/linux-64                    Cached
  + libev                    4.33  h516909a_1     conda-forge/linux-64                    Cached
  + libgcc-ng              11.1.0  hc902ee8_8     conda-forge/linux-64                    Cached
  + libgomp                11.1.0  hc902ee8_8     conda-forge/linux-64                    Cached
  + libnghttp2             1.43.0  h812cca2_0     conda-forge/linux-64                    Cached
  + libssh2                1.10.0  ha56f1ee_0     conda-forge/linux-64                    Cached
  + libstdcxx-ng           11.1.0  h56837e0_8     conda-forge/linux-64                    Cached
  + lz4-c                   1.9.3  h9c3ff4c_1     conda-forge/linux-64                    Cached
  + ncurses                   6.2  h58526e2_4     conda-forge/linux-64                    Cached
  + openssl                1.1.1k  h7f98852_1     conda-forge/linux-64                    Cached
  + tk                     8.6.11  h27826a3_1     conda-forge/linux-64                    Cached
  + xz                      5.2.5  h516909a_1     conda-forge/linux-64                    Cached
  + zlib                   1.2.11  h516909a_1010  conda-forge/linux-64                    Cached
  + zstd                    1.4.9  ha95c52a_0     conda-forge/linux-64                    431 KB

  Summary:

  Install: 26 packages

  Total download: 37 MB

──────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /home/vsts/conda/conda-bld

TEST START: artic-tools-0.3.0-hee4d88c_0.tar.bz2

## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/artic-tools_1630634663219/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_


The following NEW packages will be INSTALLED:

    _libgcc_mutex:   0.1-conda_forge         conda-forge
    _openmp_mutex:   4.5-1_gnu               conda-forge
    artic-tools:     0.3.0-hee4d88c_0        local      
    boost-cpp:       1.70.0-h7b93d67_3       conda-forge
    bzip2:           1.0.8-h7f98852_4        conda-forge
    c-ares:          1.17.2-h7f98852_0       conda-forge
    ca-certificates: 2021.5.30-ha878542_0    conda-forge
    htslib:          1.13-h9093b5e_0         bioconda   
    icu:             67.1-he1b5a44_0         conda-forge
    krb5:            1.19.2-hcc1bbae_0       conda-forge
    libcurl:         7.78.0-h2574ce0_0       conda-forge
    libdeflate:      1.7-h7f98852_5          conda-forge
    libedit:         3.1.20191231-he28a2e2_2 conda-forge
    libev:           4.33-h516909a_1         conda-forge
    libgcc-ng:       11.1.0-hc902ee8_8       conda-forge
    libgomp:         11.1.0-hc902ee8_8       conda-forge
    libnghttp2:      1.43.0-h812cca2_0       conda-forge
    libssh2:         1.10.0-ha56f1ee_0       conda-forge
    libstdcxx-ng:    11.1.0-h56837e0_8       conda-forge
    lz4-c:           1.9.3-h9c3ff4c_1        conda-forge
    ncurses:         6.2-h58526e2_4          conda-forge
    openssl:         1.1.1k-h7f98852_1       conda-forge
    tk:              8.6.11-h27826a3_1       conda-forge
    xz:              5.2.5-h516909a_1        conda-forge
    zlib:            1.2.11-h516909a_1010    conda-forge
    zstd:            1.4.9-ha95c52a_0        conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/home/vsts/conda/conda-bld/artic-tools_1630634663219/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_
export SRC_DIR=/home/vsts/conda/conda-bld/artic-tools_1630634663219/test_tmp
artic-tools is a set of artic pipeline utilities
Usage: artic-tools [OPTIONS] SUBCOMMAND

Options:
  -h,--help                   Print this help message and exit
  -v,--version                Print version and exit

Subcommands:
  align_trim                  Trim alignments from an amplicon scheme
  get_scheme                  Download an ARTIC primer scheme and reference sequence
  validate_scheme             Validate an amplicon scheme for compliance with ARTIC standards
  check_vcf                   Check a VCF file based on primer scheme info and user-defined cut offs

0.3.0
Trim alignments from an amplicon scheme
Usage: artic-tools align_trim [OPTIONS] scheme

Positionals:
  scheme TEXT:FILE REQUIRED   The ARTIC primer scheme

Options:
  -h,--help                   Print this help message and exit
  -b,--inputFile TEXT         The input BAM file (will try STDIN if not provided)
  --minMAPQ UINT              A minimum MAPQ threshold for processing alignments (default = 15)
  --normalise UINT            Subsample to N coverage per strand (default = 100, deactivate with 0)
  --report TEXT               Output an align_trim report to file
  --start                     Trim to start of primers instead of ends
  --remove-incorrect-pairs    Remove amplicons with incorrect primer pairs
  --no-read-groups            Do not divide reads into groups in SAM output
  --verbose                   Output debugging information to STDERR

Download an ARTIC primer scheme and reference sequence
Usage: artic-tools get_scheme [OPTIONS] scheme

Positionals:
  scheme TEXT REQUIRED        The name of the scheme to download (ebola|nipah|scov2)

Options:
  -h,--help                   Print this help message and exit
  --schemeVersion UINT=0      The ARTIC primer scheme version (default = latest)
  -o,--outDir TEXT            The directory to write the scheme and reference sequence to

Validate an amplicon scheme for compliance with ARTIC standards
Usage: artic-tools validate_scheme [OPTIONS] scheme

Positionals:
  scheme TEXT:FILE REQUIRED   The primer scheme to validate

Options:
  -h,--help                   Print this help message and exit
  -o,--outputPrimerSeqs TEXT  If provided, will write primer sequences as multiFASTA (requires --refSeq to be provided)
  -r,--refSeq TEXT            The reference sequence for the primer scheme (FASTA format)
  --outputInserts TEXT        If provided, will write primer scheme inserts as BED (exluding primer sequences)

Check a VCF file based on primer scheme info and user-defined cut offs
Usage: artic-tools check_vcf [OPTIONS] vcf scheme

Positionals:
  vcf TEXT:FILE REQUIRED      The input VCF file to filter
  scheme TEXT:FILE REQUIRED   The primer scheme to use

Options:
  -h,--help                   Print this help message and exit
  -o,--summaryOut TEXT REQUIRED
                              Summary of variant checks will be written here (TSV format)
  --vcfOut TEXT               If provided, will write variants that pass checks to this file
  -q,--minQual FLOAT          Minimum quality score to keep a variant (default = 10)


Resource usage statistics from testing artic-tools:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.4M
   Disk usage: 60B
   Time elapsed: 0:00:02.1


TEST END: artic-tools-0.3.0-hee4d88c_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

