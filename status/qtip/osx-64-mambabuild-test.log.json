  Package              Version  Build                 Channel                                    Size
───────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
───────────────────────────────────────────────────────────────────────────────────────────────────────

  + ca-certificates  2021.5.30  h033912b_0            conda-forge/osx-64                       Cached
  + joblib               1.0.1  pyhd8ed1ab_0          conda-forge/noarch                       Cached
  + libblas              3.9.0  11_osx64_openblas     conda-forge/osx-64                       Cached
  + libcblas             3.9.0  11_osx64_openblas     conda-forge/osx-64                       Cached
  + libcxx              12.0.1  habf9029_0            conda-forge/osx-64                       Cached
  + libffi                 3.3  h046ec9c_2            conda-forge/osx-64                       Cached
  + libgfortran          5.0.0  9_3_0_h6c81a4c_23     conda-forge/osx-64                       Cached
  + libgfortran5         9.3.0  h6c81a4c_23           conda-forge/osx-64                       Cached
  + liblapack            3.9.0  11_osx64_openblas     conda-forge/osx-64                       Cached
  + libopenblas         0.3.17  openmp_h3351f45_1     conda-forge/osx-64                       Cached
  + llvm-openmp         12.0.1  hda6cdc1_1            conda-forge/osx-64                       Cached
  + ncurses                6.2  h2e338ed_4            conda-forge/osx-64                       Cached
  + numpy               1.21.2  py37haefe36b_0        conda-forge/osx-64                         6 MB
  + openssl             1.1.1l  h0d85af4_0            conda-forge/osx-64                       Cached
  + pandas               1.3.2  py37h5b83a90_0        conda-forge/osx-64                        11 MB
  + pip                 21.2.4  pyhd8ed1ab_0          conda-forge/noarch                       Cached
  + python              3.7.10  h7728216_100_cpython  conda-forge/osx-64                        24 MB
  + python-dateutil      2.8.2  pyhd8ed1ab_0          conda-forge/noarch                       240 KB
  + python_abi             3.7  2_cp37m               conda-forge/osx-64                         4 KB
  + pytz                2021.1  pyhd8ed1ab_0          conda-forge/noarch                       Cached
  + qtip                 1.6.2  py37h10e2902_2        /Users/runner/conda/conda-bld/osx-64     315 KB
  + readline               8.1  h05e3726_0            conda-forge/osx-64                       Cached
  + scikit-learn        0.24.2  py37h5a4fc86_1        conda-forge/osx-64                         7 MB
  + scipy                1.7.1  py37h4e3cf02_0        conda-forge/osx-64                        20 MB
  + setuptools          57.4.0  py37hf985489_0        conda-forge/osx-64                       963 KB
  + six                 1.16.0  pyh6c4a22f_0          conda-forge/noarch                       Cached
  + sqlite              3.36.0  h23a322b_0            conda-forge/osx-64                       Cached
  + threadpoolctl        2.2.0  pyh8a188c0_0          conda-forge/noarch                        16 KB
  + tk                  8.6.11  h5dbffcc_1            conda-forge/osx-64                       Cached
  + wheel               0.37.0  pyhd8ed1ab_1          conda-forge/noarch                       Cached
  + xz                   5.2.5  haf1e3a3_1            conda-forge/osx-64                       Cached
  + zlib                1.2.11  h7795811_1010         conda-forge/osx-64                       Cached

  Summary:

  Install: 32 packages

  Total download: 69 MB

───────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /Users/runner/conda/conda-bld

TEST START: qtip-1.6.2-py37h10e2902_2.tar.bz2

## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/qtip_1631002090205/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac


The following NEW packages will be INSTALLED:

    ca-certificates: 2021.5.30-h033912b_0        conda-forge
    joblib:          1.0.1-pyhd8ed1ab_0          conda-forge
    libblas:         3.9.0-11_osx64_openblas     conda-forge
    libcblas:        3.9.0-11_osx64_openblas     conda-forge
    libcxx:          12.0.1-habf9029_0           conda-forge
    libffi:          3.3-h046ec9c_2              conda-forge
    libgfortran:     5.0.0-9_3_0_h6c81a4c_23     conda-forge
    libgfortran5:    9.3.0-h6c81a4c_23           conda-forge
    liblapack:       3.9.0-11_osx64_openblas     conda-forge
    libopenblas:     0.3.17-openmp_h3351f45_1    conda-forge
    llvm-openmp:     12.0.1-hda6cdc1_1           conda-forge
    ncurses:         6.2-h2e338ed_4              conda-forge
    numpy:           1.21.2-py37haefe36b_0       conda-forge
    openssl:         1.1.1l-h0d85af4_0           conda-forge
    pandas:          1.3.2-py37h5b83a90_0        conda-forge
    pip:             21.2.4-pyhd8ed1ab_0         conda-forge
    python:          3.7.10-h7728216_100_cpython conda-forge
    python-dateutil: 2.8.2-pyhd8ed1ab_0          conda-forge
    python_abi:      3.7-2_cp37m                 conda-forge
    pytz:            2021.1-pyhd8ed1ab_0         conda-forge
    qtip:            1.6.2-py37h10e2902_2        local      
    readline:        8.1-h05e3726_0              conda-forge
    scikit-learn:    0.24.2-py37h5a4fc86_1       conda-forge
    scipy:           1.7.1-py37h4e3cf02_0        conda-forge
    setuptools:      57.4.0-py37hf985489_0       conda-forge
    six:             1.16.0-pyh6c4a22f_0         conda-forge
    sqlite:          3.36.0-h23a322b_0           conda-forge
    threadpoolctl:   2.2.0-pyh8a188c0_0          conda-forge
    tk:              8.6.11-h5dbffcc_1           conda-forge
    wheel:           0.37.0-pyhd8ed1ab_1         conda-forge
    xz:              5.2.5-haf1e3a3_1            conda-forge
    zlib:            1.2.11-h7795811_1010        conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/qtip_1631002090205/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac
export SRC_DIR=/Users/runner/conda/conda-bld/qtip_1631002090205/test_tmp
usage: qtip [-h] --ref path [path ...] [--U path [path ...]]
            [--m1 path [path ...]] [--m2 path [path ...]] [--index path]
            [--seed int] [--max-allowed-fraglen int] [--input-model-size int]
            [--sim-unp-min int] [--sim-conc-min int] [--sim-disc-min int]
            [--sim-bad-end-min int] [--sim-function sqrt|linear|const]
            [--sim-factor factor] [--wiggle int] [--bt2-exe path]
            [--bwa-exe path] [--snap-exe path] [--aligner name]
            [--write-orig-mapq] [--write-precise-mapq] [--orig-mapq-flag XX:X]
            [--precise-mapq-flag XX:X] [--keep-ztz] [--model-family family]
            [--num-trees int,int,...] [--max-features float,float,...]
            [--max-leaf-nodes int,int,...] [--learning-rate float,float,...]
            [--optimization-tolerance fraction] [--reweight-ratio float]
            [--reweight-mapq] [--reweight-mapq-offset float] [--collapse]
            [--max-rows int] [--no-oob] [--skip-rewrite] [--profile-memory]
            [--predict-for-training] [--try-include-mapq]
            [--subsampling-series floats] [--trials int] [--assess-accuracy]
            [--assess-limit int] [--temp-directory path]
            [--output-directory path] [--vanilla-output path]
            [--keep-intermediates] [--profile] [--verbose] [--version]

Align a collection of input reads, simulate a tandem dataset, align the tandem
dataset, and emit both the input read alignments and the training data derived
from the tandem read alignments.

optional arguments:
  -h, --help            show this help message and exit
  --ref path [path ...]
                        FASTA file, or many FASTAs separated by spaces,
                        containing reference genome sequences (default: None)
  --U path [path ...]   Unpaired read FASTQ file name, or many FASTQ file
                        names separated by spaces (default: None)
  --m1 path [path ...]  Mate 1 FASTQ file name, or many FASTQ file names
                        separated by spaces; must be specified in same order
                        as --m2 (default: None)
  --m2 path [path ...]  Mate 2 FASTQ file name, or many FASTQ file names
                        separated by spaces; must be specified in same order
                        as --m1 (default: None)
  --index path          Index file to use; specify the appropriate prefix,
                        e.g. Bowtie 2 index file name without the .X.bt2
                        suffix. (default: None)
  --seed int            Integer to initialize pseudo-random generator
                        (default: 99099)
  --max-allowed-fraglen int
                        When simulating fragments, longer fragments are
                        truncated to this length (default: 100000)
  --input-model-size int
                        Maximum # templates to keep when building an input
                        model. There are 4 separate models for each alignment
                        category and this governs the maximum for all 4.
                        (default: 30000)
  --sim-unp-min int     If predictions for unpaired reads are needed, simulate
                        at least this # of unpaired reads. (default: 30000)
  --sim-conc-min int    If predictions for concordantly aligned reads are
                        needed, simulate at least this # of concordant pairs.
                        (default: 30000)
  --sim-disc-min int    If predictions for discordantly aligned reads are
                        needed, simulate at least this # of discordant pairs.
                        (default: 10000)
  --sim-bad-end-min int
                        If predictions for ends with an unaligned mate are
                        needed, simulate at least this # of pairs with a bad
                        end. (default: 10000)
  --sim-function sqrt|linear|const
                        Function giving # of tandem reads to simulate in a
                        category; parameter is the number of input reads. See
                        also: --sim-factor. (default: sqrt)
  --sim-factor factor   This is multiplied with X (if --sim-function=linear)
                        or with sqrt(X) (if --sim-function=sqrt) or with 1 (if
                        --sim-function=const) to calculate # tandem reads to
                        simulate in a given category, where X is # of input
                        reads in that category. (default: 45.0)
  --wiggle int          Wiggle room to allow in starting position when
                        determining whether alignment is correct (default: 30)
  --bt2-exe path        Path to Bowtie 2 aligner exe, "bowtie2" (default:
                        None)
  --bwa-exe path        Path to BWA-MEM aligner exe, "bwa" (default: None)
  --snap-exe path       Path to SNAP aligner exe, "snap-aligner" (default:
                        None)
  --aligner name        Which aligner to use: bowtie2 | bwa-mem | snap
                        (default: bowtie2)
  --write-orig-mapq     Write original MAPQ as an extra field in output SAM
                        (default: False)
  --write-precise-mapq  Write a more precise MAPQ prediction as an extra field
                        in output SAM (default: False)
  --orig-mapq-flag XX:X
                        If --write-orig-mapq is specified, store original MAPQ
                        in this extra SAM field (default: Zm:Z)
  --precise-mapq-flag XX:X
                        If --write-precise-mapq is specified, store original
                        MAPQ in this extra SAM field (default: Zp:Z)
  --keep-ztz            Don't remove ZT:Z field, with aligner-reported feature
                        data, from the final output SAM (default: False)
  --model-family family
                        {RandomForest | ExtraTrees | GradientBoosting}
                        (default: RandomForest)
  --num-trees int,int,...
                        number of decision trees to try; relevant for all
                        model families (default: 30)
  --max-features float,float,...
                        maximum number of features to consider at each
                        decision tree node; relevant for RandomForest and
                        ExtraTrees (default: 0.1,0.2,0.25,0.3,0.35,0.4,0.45)
  --max-leaf-nodes int,int,...
                        maximum number of leaf nodes to include in a decision
                        tree; relevant for RandomForest and ExtraTrees
                        (default: 35)
  --learning-rate float,float,...
                        learning rate to use when fitting; only relevant for
                        GradientBoosting (default: 0.75,0.8,0.85,0.9,0.95,1.0)
  --optimization-tolerance fraction
                        When using hill climbing procedure to optimize
                        hyperparamters,stop when OOB score can't be improved
                        by this relative factor (default: 0.01)
  --reweight-ratio float
                        When fitting, reweigh samples so weight of highest-
                        mapq alignment has this times as much weight as
                        lowest-mapq. (default: 1.0)
  --reweight-mapq       When fitting, reweigh samples according to initially-
                        predicted mapq. Higher predictions get more weight
                        (default: False)
  --reweight-mapq-offset float
                        Add this to every MAPQ before reweighting (default:
                        10.0)
  --collapse            Remove redundant rows just before prediction. Usually
                        not a net win. (default: False)
  --max-rows int        Maximum number of rows (alignments) to feed at once to
                        the prediction function (default: 250000)
  --no-oob              Don't use out-of-bag score when fitting
                        hyperparameters -- use cross validation instead. No
                        effect for models that don't calculate OOB score.
                        (default: False)
  --skip-rewrite        Skip the final SAM rewriting step; other results,
                        including any fit and prediction assessments
                        requested, are still written. (default: False)
  --profile-memory      Use guppy/heapy to profile memory and periodically
                        print heap usage (default: False)
  --predict-for-training
                        Make predictions and produce associated plots/output
                        files for training (tandem) data (default: False)
  --try-include-mapq    Try both with and without including the tool-predicted
                        MAPQ as a feature; default: does not include it
                        (default: False)
  --subsampling-series floats
                        Comma separated list of subsampling fractions to try
                        (default: 1.0)
  --trials int          Number of times to repeat fitting/prediction (default:
                        1)
  --assess-accuracy     When correctness can be inferred from simulated read
                        names, assess accuracy of old and new MAPQ predictions
                        (default: False)
  --assess-limit int    The maximum number of alignments to assess when
                        assessing accuracy (default: 100000000)
  --temp-directory path
                        Write temporary files to this directory; when None:
                        uses environment variables like TMPDIR, TEMP, etc
                        (default: None)
  --output-directory path
                        Write outputs to this directory (default: None)
  --vanilla-output path
                        Only write final SAM file; suppress all other output
                        (default: None)
  --keep-intermediates  Keep intermediates in output directory; if False,
                        intermediates are written to a temporary directory
                        then deleted (default: False)
  --profile             Print profiling info (default: False)
  --verbose             Be talkative (default: False)
  --version             Print version and quit (default: False)

Resource usage statistics from testing qtip:
   Process count: 4
   CPU time: Sys=0:00:00.3, User=0:00:00.9
   Memory: 70.9M
   Disk usage: 12B
   Time elapsed: 0:00:18.6


TEST END: qtip-1.6.2-py37h10e2902_2.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

