  Package                  Version  Build                   Channel                                   Size
────────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex              0.1  conda_forge             conda-forge/linux-64                    Cached
  + _openmp_mutex              4.5  1_gnu                   conda-forge/linux-64                    Cached
  + bzip2                    1.0.8  h7f98852_4              conda-forge/linux-64                    Cached
  + c-ares                  1.17.2  h7f98852_0              conda-forge/linux-64                    Cached
  + ca-certificates      2021.5.30  ha878542_0              conda-forge/linux-64                    Cached
  + cached-property          1.5.2  hd8ed1ab_1              conda-forge/noarch                        4 KB
  + cached_property          1.5.2  pyha770c72_1            conda-forge/noarch                       11 KB
  + certifi              2021.5.30  py38h578d9bd_0          conda-forge/linux-64                    141 KB
  + colorama                 0.4.4  pyh9f0ad1d_0            conda-forge/noarch                      Cached
  + cycler                  0.10.0  py_2                    conda-forge/noarch                        9 KB
  + freetype                2.10.4  h0708190_1              conda-forge/linux-64                    Cached
  + h5py                     3.4.0  nompi_py38hfbb2109_100  conda-forge/linux-64                      1 MB
  + hdf5                    1.12.1  nompi_h2750804_100      conda-forge/linux-64                      4 MB
  + jbig                       2.1  h7f98852_2003           conda-forge/linux-64                    Cached
  + joblib                   1.0.1  pyhd8ed1ab_0            conda-forge/noarch                      Cached
  + jpeg                        9d  h36c2ea0_0              conda-forge/linux-64                    Cached
  + kiwisolver               1.3.2  py38h1fd1430_0          conda-forge/linux-64                     79 KB
  + krb5                    1.19.2  hcc1bbae_0              conda-forge/linux-64                    Cached
  + lcms2                     2.12  hddcbb42_0              conda-forge/linux-64                    443 KB
  + ld_impl_linux-64        2.36.1  hea4e1c9_2              conda-forge/linux-64                    Cached
  + lerc                     2.2.1  h9c3ff4c_0              conda-forge/linux-64                    Cached
  + libblas                  3.9.0  11_linux64_openblas     conda-forge/linux-64                    Cached
  + libcblas                 3.9.0  11_linux64_openblas     conda-forge/linux-64                    Cached
  + libcurl                 7.78.0  h2574ce0_0              conda-forge/linux-64                    Cached
  + libdeflate                 1.7  h7f98852_5              conda-forge/linux-64                    Cached
  + libedit           3.1.20191231  he28a2e2_2              conda-forge/linux-64                    Cached
  + libev                     4.33  h516909a_1              conda-forge/linux-64                    Cached
  + libffi                     3.3  h58526e2_2              conda-forge/linux-64                    Cached
  + libgcc-ng               11.1.0  hc902ee8_8              conda-forge/linux-64                    Cached
  + libgfortran-ng          11.1.0  h69a702a_8              conda-forge/linux-64                    Cached
  + libgfortran5            11.1.0  h6c583b3_8              conda-forge/linux-64                    Cached
  + libgomp                 11.1.0  hc902ee8_8              conda-forge/linux-64                    Cached
  + libiconv                  1.16  h516909a_0              conda-forge/linux-64                    Cached
  + liblapack                3.9.0  11_linux64_openblas     conda-forge/linux-64                    Cached
  + libnghttp2              1.43.0  h812cca2_0              conda-forge/linux-64                    Cached
  + libopenblas             0.3.17  pthreads_h8fe5266_1     conda-forge/linux-64                    Cached
  + libpng                  1.6.37  h21135ba_2              conda-forge/linux-64                    Cached
  + libssh2                 1.10.0  ha56f1ee_0              conda-forge/linux-64                    Cached
  + libstdcxx-ng            11.1.0  h56837e0_8              conda-forge/linux-64                    Cached
  + libtiff                  4.3.0  hf544144_1              conda-forge/linux-64                    Cached
  + libwebp-base             1.2.1  h7f98852_0              conda-forge/linux-64                    Cached
  + lz4-c                    1.9.3  h9c3ff4c_1              conda-forge/linux-64                    Cached
  + mappy                     2.22  py38h390ddb8_0          bioconda/linux-64                       163 KB
  + matplotlib-base          3.4.3  py38hf4fb855_0          conda-forge/linux-64                      7 MB
  + megalodon                2.3.4  py38h4a8c8d9_0          /home/vsts/conda/conda-bld/linux-64       7 MB
  + ncurses                    6.2  h58526e2_4              conda-forge/linux-64                    Cached
  + numpy                   1.21.2  py38he2449b9_0          conda-forge/linux-64                      6 MB
  + olefile                   0.46  pyh9f0ad1d_1            conda-forge/noarch                       32 KB
  + ont-fast5-api            4.0.0  pyhdfd78af_0            bioconda/noarch                           2 MB
  + openjpeg                 2.4.0  hb52868f_1              conda-forge/linux-64                    444 KB
  + openssl                 1.1.1k  h7f98852_1              conda-forge/linux-64                    Cached
  + packaging                 21.0  pyhd8ed1ab_0            conda-forge/noarch                       35 KB
  + pandas                   1.3.2  py38h43a58ef_0          conda-forge/linux-64                     13 MB
  + patsy                    0.5.1  py_0                    conda-forge/noarch                      187 KB
  + pillow                   8.3.1  py38h8e6f84c_0          conda-forge/linux-64                    692 KB
  + pip                     21.2.4  pyhd8ed1ab_0            conda-forge/noarch                      Cached
  + progressbar33              2.4  py_0                    conda-forge/noarch                       11 KB
  + pyparsing                2.4.7  pyh9f0ad1d_0            conda-forge/noarch                       60 KB
  + pysam                 0.16.0.1  py38hf7546f9_3          bioconda/linux-64                         3 MB
  + python                  3.8.10  h49503c6_1_cpython      conda-forge/linux-64                     26 MB
  + python-dateutil          2.8.2  pyhd8ed1ab_0            conda-forge/noarch                      240 KB
  + python_abi                 3.8  2_cp38                  conda-forge/linux-64                      4 KB
  + pytz                    2021.1  pyhd8ed1ab_0            conda-forge/noarch                      Cached
  + readline                   8.1  h46c0cb4_0              conda-forge/linux-64                    Cached
  + scikit-learn            0.24.2  py38h1561384_1          conda-forge/linux-64                      8 MB
  + scipy                    1.7.1  py38h56a6a73_0          conda-forge/linux-64                     22 MB
  + seaborn                 0.11.2  hd8ed1ab_0              conda-forge/noarch                        4 KB
  + seaborn-base            0.11.2  pyhd8ed1ab_0            conda-forge/noarch                      223 KB
  + setuptools              57.4.0  py38h578d9bd_0          conda-forge/linux-64                    934 KB
  + six                     1.16.0  pyh6c4a22f_0            conda-forge/noarch                      Cached
  + sqlite                  3.36.0  h9cd32fc_0              conda-forge/linux-64                    Cached
  + statsmodels             0.12.2  py38h5c078b8_0          conda-forge/linux-64                     11 MB
  + tar                       1.34  ha1f6473_0              conda-forge/linux-64                    904 KB
  + threadpoolctl            2.2.0  pyh8a188c0_0            conda-forge/noarch                       16 KB
  + tk                      8.6.11  h21135ba_0              conda-forge/linux-64                    Cached
  + tornado                    6.1  py38h497a2fe_1          conda-forge/linux-64                    649 KB
  + tqdm                    4.62.2  pyhd8ed1ab_0            conda-forge/noarch                      Cached
  + wheel                   0.37.0  pyhd8ed1ab_1            conda-forge/noarch                      Cached
  + xz                       5.2.5  h516909a_1              conda-forge/linux-64                    Cached
  + zlib                    1.2.11  h516909a_1010           conda-forge/linux-64                    Cached
  + zstd                     1.5.0  ha95c52a_0              conda-forge/linux-64                    Cached

  Summary:

  Install: 81 packages

  Total download: 115 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /home/vsts/conda/conda-bld

TEST START: megalodon-2.3.4-py38h4a8c8d9_0.tar.bz2

## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/megalodon_1630529420635/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pl


The following NEW packages will be INSTALLED:

    _libgcc_mutex:    0.1-conda_forge              conda-forge
    _openmp_mutex:    4.5-1_gnu                    conda-forge
    bzip2:            1.0.8-h7f98852_4             conda-forge
    c-ares:           1.17.2-h7f98852_0            conda-forge
    ca-certificates:  2021.5.30-ha878542_0         conda-forge
    cached-property:  1.5.2-hd8ed1ab_1             conda-forge
    cached_property:  1.5.2-pyha770c72_1           conda-forge
    certifi:          2021.5.30-py38h578d9bd_0     conda-forge
    colorama:         0.4.4-pyh9f0ad1d_0           conda-forge
    cycler:           0.10.0-py_2                  conda-forge
    freetype:         2.10.4-h0708190_1            conda-forge
    h5py:             3.4.0-nompi_py38hfbb2109_100 conda-forge
    hdf5:             1.12.1-nompi_h2750804_100    conda-forge
    jbig:             2.1-h7f98852_2003            conda-forge
    joblib:           1.0.1-pyhd8ed1ab_0           conda-forge
    jpeg:             9d-h36c2ea0_0                conda-forge
    kiwisolver:       1.3.2-py38h1fd1430_0         conda-forge
    krb5:             1.19.2-hcc1bbae_0            conda-forge
    lcms2:            2.12-hddcbb42_0              conda-forge
    ld_impl_linux-64: 2.36.1-hea4e1c9_2            conda-forge
    lerc:             2.2.1-h9c3ff4c_0             conda-forge
    libblas:          3.9.0-11_linux64_openblas    conda-forge
    libcblas:         3.9.0-11_linux64_openblas    conda-forge
    libcurl:          7.78.0-h2574ce0_0            conda-forge
    libdeflate:       1.7-h7f98852_5               conda-forge
    libedit:          3.1.20191231-he28a2e2_2      conda-forge
    libev:            4.33-h516909a_1              conda-forge
    libffi:           3.3-h58526e2_2               conda-forge
    libgcc-ng:        11.1.0-hc902ee8_8            conda-forge
    libgfortran-ng:   11.1.0-h69a702a_8            conda-forge
    libgfortran5:     11.1.0-h6c583b3_8            conda-forge
    libgomp:          11.1.0-hc902ee8_8            conda-forge
    libiconv:         1.16-h516909a_0              conda-forge
    liblapack:        3.9.0-11_linux64_openblas    conda-forge
    libnghttp2:       1.43.0-h812cca2_0            conda-forge
    libopenblas:      0.3.17-pthreads_h8fe5266_1   conda-forge
    libpng:           1.6.37-h21135ba_2            conda-forge
    libssh2:          1.10.0-ha56f1ee_0            conda-forge
    libstdcxx-ng:     11.1.0-h56837e0_8            conda-forge
    libtiff:          4.3.0-hf544144_1             conda-forge
    libwebp-base:     1.2.1-h7f98852_0             conda-forge
    lz4-c:            1.9.3-h9c3ff4c_1             conda-forge
    mappy:            2.22-py38h390ddb8_0          bioconda   
    matplotlib-base:  3.4.3-py38hf4fb855_0         conda-forge
    megalodon:        2.3.4-py38h4a8c8d9_0         local      
    ncurses:          6.2-h58526e2_4               conda-forge
    numpy:            1.21.2-py38he2449b9_0        conda-forge
    olefile:          0.46-pyh9f0ad1d_1            conda-forge
    ont-fast5-api:    4.0.0-pyhdfd78af_0           bioconda   
    openjpeg:         2.4.0-hb52868f_1             conda-forge
    openssl:          1.1.1k-h7f98852_1            conda-forge
    packaging:        21.0-pyhd8ed1ab_0            conda-forge
    pandas:           1.3.2-py38h43a58ef_0         conda-forge
    patsy:            0.5.1-py_0                   conda-forge
    pillow:           8.3.1-py38h8e6f84c_0         conda-forge
    pip:              21.2.4-pyhd8ed1ab_0          conda-forge
    progressbar33:    2.4-py_0                     conda-forge
    pyparsing:        2.4.7-pyh9f0ad1d_0           conda-forge
    pysam:            0.16.0.1-py38hf7546f9_3      bioconda   
    python:           3.8.10-h49503c6_1_cpython    conda-forge
    python-dateutil:  2.8.2-pyhd8ed1ab_0           conda-forge
    python_abi:       3.8-2_cp38                   conda-forge
    pytz:             2021.1-pyhd8ed1ab_0          conda-forge
    readline:         8.1-h46c0cb4_0               conda-forge
    scikit-learn:     0.24.2-py38h1561384_1        conda-forge
    scipy:            1.7.1-py38h56a6a73_0         conda-forge
    seaborn:          0.11.2-hd8ed1ab_0            conda-forge
    seaborn-base:     0.11.2-pyhd8ed1ab_0          conda-forge
    setuptools:       57.4.0-py38h578d9bd_0        conda-forge
    six:              1.16.0-pyh6c4a22f_0          conda-forge
    sqlite:           3.36.0-h9cd32fc_0            conda-forge
    statsmodels:      0.12.2-py38h5c078b8_0        conda-forge
    tar:              1.34-ha1f6473_0              conda-forge
    threadpoolctl:    2.2.0-pyh8a188c0_0           conda-forge
    tk:               8.6.11-h21135ba_0            conda-forge
    tornado:          6.1-py38h497a2fe_1           conda-forge
    tqdm:             4.62.2-pyhd8ed1ab_0          conda-forge
    wheel:            0.37.0-pyhd8ed1ab_1          conda-forge
    xz:               5.2.5-h516909a_1             conda-forge
    zlib:             1.2.11-h516909a_1010         conda-forge
    zstd:             1.5.0-ha95c52a_0             conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/home/vsts/conda/conda-bld/megalodon_1630529420635/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pl
export SRC_DIR=/home/vsts/conda/conda-bld/megalodon_1630529420635/test_tmp
import: 'megalodon'
import: 'megalodon'
usage: megalodon [-h] [--guppy-config GUPPY_CONFIG]
                 [--guppy-server-path GUPPY_SERVER_PATH] [--live-processing]
                 [--outputs {basecalls,mod_basecalls,mappings,per_read_variants,variants,variant_mappings,per_read_mods,mods,mod_mappings,signal_mappings,per_read_refs} [{basecalls,mod_basecalls,mappings,per_read_variants,variants,variant_mappings,per_read_mods,mods,mod_mappings,signal_mappings,per_read_refs} ...]]
                 [--output-directory OUTPUT_DIRECTORY] [--overwrite]
                 [--mappings-format {bam,cram,sam}] [--reference REFERENCE]
                 [--haploid] [--variant-filename VARIANT_FILENAME]
                 [--mod-motif BASE MOTIF REL_POSITION] [--processes PROCESSES]
                 [--devices DEVICES [DEVICES ...]] [--help-long] [--rna] [-v]
                 fast5s_dir

positional arguments:
  fast5s_dir            Directory containing raw fast5 (will be searched
                        recursively).

optional arguments:
  -h, --help            show this help message and exit

Guppy Backend Arguments:
  --guppy-config GUPPY_CONFIG
                        Guppy config. Default:
                        dna_r9.4.1_450bps_modbases_5mc_hac.cfg
  --guppy-server-path GUPPY_SERVER_PATH
                        Path to guppy server executable. Default: ./ont-
                        guppy/bin/guppy_basecall_server

Output Arguments:
  --live-processing     Process reads from a live sequencing run. The
                        [fast5s_dir] must be the base MinKNOW output
                        directory. Megalodon will continue searching for FAST5
                        files until the file starting with "final_summary" is
                        found.
  --outputs {basecalls,mod_basecalls,mappings,per_read_variants,variants,variant_mappings,per_read_mods,mods,mod_mappings,signal_mappings,per_read_refs} [{basecalls,mod_basecalls,mappings,per_read_variants,variants,variant_mappings,per_read_mods,mods,mod_mappings,signal_mappings,per_read_refs} ...]
                        Desired output(s).
                        Options:
                        	basecalls: Called bases (FASTA/Q)
                        	mod_basecalls: Basecall-anchored modified base scores (HDF5)
                        	mappings: Mapped reads (BAM/CRAM/SAM)
                        	per_read_variants: Per-read, per-site sequence variant scores database
                        	variants: Sample-level aggregated sequence variant calls (VCF)
                        	variant_mappings: Per-read mappings annotated with variant calls
                        	per_read_mods: Per-read, per-site modified base scores database
                        	mods: Sample-level aggregated modified base calls (modVCF)
                        	mod_mappings: Per-read mappings annotated with modified base calls
                        	signal_mappings: Signal mappings for taiyaki model training (HDF5)
                        	per_read_refs: Per-read reference sequence for model training (FASTA)
                        Default: ['basecalls']
  --output-directory OUTPUT_DIRECTORY
                        Directory to store output results. Default:
                        megalodon_results
  --overwrite           Overwrite output directory if it exists.

Mapping Arguments:
  --mappings-format {bam,cram,sam}
                        Mappings output format. Default: bam
  --reference REFERENCE
                        Reference FASTA or minimap2 index file used for
                        mapping called reads.

Sequence Variant Arguments:
  --haploid             Compute variant aggregation for haploid genotypes.
                        Default: diploid
  --variant-filename VARIANT_FILENAME
                        Sequence variants to call for each read in VCF/BCF
                        format (required for variant output).

Modified Base Arguments:
  --mod-motif BASE MOTIF REL_POSITION
                        Restrict modified base calls to specified motif(s).
                        Argument takes 3 values representing 1) the single
                        letter modified base(s), 2) sequence motif and 3)
                        relative modified base position. Multiple --mod-motif
                        arguments may be provided to a single command. For
                        example to restrict to CpG sites use "--mod-motif m CG
                        0".

Compute Resource Arguments:
  --processes PROCESSES
                        Number of parallel processes. Default: 1
  --devices DEVICES [DEVICES ...]
                        GPU devices for guppy or taiyaki basecalling backends.

Miscellaneous Arguments:
  --help-long           Show all options.
  --rna                 RNA input data. Requires RNA model. Default: DNA input
                        data
  -v, --version         show megalodon version and exit.
usage: megalodon_extras [-h] [-v]
                        {aggregate,calibrate,merge,modified_bases,phase_variants,per_read_text,validate,variants}
                        ...

********** Megalodon Extras *********

Commands to perform operations related to main Megalodon command including aggregation, variant phasing, validation, and more.

Megalodon extras command groups (additional help available within each command group):
	aggregate                Aggregate per-read modified base and/or variant statistics
	calibrate                Calibrate model results with ground truth modified base or variants
	merge                    Merge per-read databases or aggregated files
	modified_bases           Miscellaneous modified base operations
	phase_variants           Phase variants
	per_read_text            Output per-read text files
	validate                 Validate per-read mapping and modified base results
	variants                 Miscellaneous sequence variant operations

optional arguments:
  -h, --help            show this help message and exit
  -v, --version         Show Megalodon version and exit.

Resource usage statistics from testing megalodon:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.4M
   Disk usage: 20B
   Time elapsed: 0:00:02.1


TEST END: megalodon-2.3.4-py38h4a8c8d9_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

