  Package                 Version  Build                   Channel                                    Size
────────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────────

  + blist                   1.3.6  py38h4d0b108_2          conda-forge/osx-64                       147 KB
  + bz2file                  0.98  py_0                    conda-forge/noarch                         9 KB
  + bzip2                   1.0.8  h0d85af4_4              conda-forge/osx-64                       Cached
  + c-ares                 1.17.2  h0d85af4_0              conda-forge/osx-64                       Cached
  + ca-certificates     2021.5.30  h033912b_0              conda-forge/osx-64                       Cached
  + cached-property         1.5.2  hd8ed1ab_1              conda-forge/noarch                         4 KB
  + cached_property         1.5.2  pyha770c72_1            conda-forge/noarch                        11 KB
  + cairo                  1.16.0  he43a7df_1008           conda-forge/osx-64                       Cached
  + certifi             2021.5.30  py38h50d1736_0          conda-forge/osx-64                       141 KB
  + cmash                   0.5.2  pyh5e36f6f_0            /Users/runner/conda/conda-bld/osx-64      88 KB
  + cycler                 0.10.0  py_2                    conda-forge/noarch                         9 KB
  + fontconfig             2.13.1  h10f422b_1005           conda-forge/osx-64                       Cached
  + freetype               2.10.4  h4cff582_1              conda-forge/osx-64                       Cached
  + gettext              0.19.8.1  h7937167_1005           conda-forge/osx-64                       Cached
  + h5py                    3.4.0  nompi_py38h9f21798_100  conda-forge/osx-64                         1 MB
  + hdf5                   1.12.1  nompi_h2f0ef1a_100      conda-forge/osx-64                         4 MB
  + hydra                     2.5  py38h5406a74_0          conda-forge/osx-64                        63 KB
  + icu                      68.1  h74dc148_0              conda-forge/osx-64                       Cached
  + jbig                      2.1  h0d85af4_2003           conda-forge/osx-64                       Cached
  + jpeg                       9d  hbcb3906_0              conda-forge/osx-64                       Cached
  + khmer                 3.0.0a3  py38ha8ac59a_1          bioconda/osx-64                            9 MB
  + kiwisolver              1.3.2  py38h12bbefe_0          conda-forge/osx-64                        57 KB
  + krb5                   1.19.2  hcfbf3a7_0              conda-forge/osx-64                       Cached
  + lcms2                    2.12  h577c468_0              conda-forge/osx-64                       404 KB
  + lerc                    2.2.1  h046ec9c_0              conda-forge/osx-64                       Cached
  + libblas                 3.9.0  11_osx64_openblas       conda-forge/osx-64                       Cached
  + libcblas                3.9.0  11_osx64_openblas       conda-forge/osx-64                       Cached
  + libcurl                7.78.0  hf45b732_0              conda-forge/osx-64                       Cached
  + libcxx                 12.0.1  habf9029_0              conda-forge/osx-64                       Cached
  + libdeflate                1.7  h35c211d_5              conda-forge/osx-64                       Cached
  + libedit          3.1.20191231  h0678c8f_2              conda-forge/osx-64                       Cached
  + libev                    4.33  haf1e3a3_1              conda-forge/osx-64                       Cached
  + libffi                    3.3  h046ec9c_2              conda-forge/osx-64                       Cached
  + libgfortran             5.0.0  9_3_0_h6c81a4c_23       conda-forge/osx-64                       Cached
  + libgfortran5            9.3.0  h6c81a4c_23             conda-forge/osx-64                       Cached
  + libglib                2.68.4  hd556434_0              conda-forge/osx-64                       Cached
  + libiconv                 1.16  haf1e3a3_0              conda-forge/osx-64                       Cached
  + liblapack               3.9.0  11_osx64_openblas       conda-forge/osx-64                       Cached
  + libnghttp2             1.43.0  h07e645a_0              conda-forge/osx-64                       Cached
  + libopenblas            0.3.17  openmp_h3351f45_1       conda-forge/osx-64                       Cached
  + libpng                 1.6.37  h7cec526_2              conda-forge/osx-64                       Cached
  + libssh2                1.10.0  h52ee1ee_0              conda-forge/osx-64                       Cached
  + libtiff                 4.3.0  h1167814_1              conda-forge/osx-64                       Cached
  + libwebp-base            1.2.1  h0d85af4_0              conda-forge/osx-64                       Cached
  + libxml2                2.9.12  h93ec3fd_0              conda-forge/osx-64                       Cached
  + llvm-openmp            12.0.1  hda6cdc1_1              conda-forge/osx-64                       Cached
  + lz4-c                   1.9.3  he49afe7_1              conda-forge/osx-64                       Cached
  + marisa-trie             0.7.5  py38h0a5c65b_1001       conda-forge/osx-64                       164 KB
  + matplotlib-base         3.4.3  py38hc7d2367_0          conda-forge/osx-64                         7 MB
  + ncurses                   6.2  h2e338ed_4              conda-forge/osx-64                       Cached
  + numpy                  1.21.2  py38h49b9922_0          conda-forge/osx-64                         6 MB
  + olefile                  0.46  pyh9f0ad1d_1            conda-forge/noarch                        32 KB
  + openjpeg                2.4.0  h6e7aa92_1              conda-forge/osx-64                       374 KB
  + openssl                1.1.1l  h0d85af4_0              conda-forge/osx-64                       Cached
  + pandas                  1.3.2  py38ha53d530_0          conda-forge/osx-64                        12 MB
  + pcre                     8.45  he49afe7_0              conda-forge/osx-64                       Cached
  + pillow                  8.3.2  py38hee640a0_0          conda-forge/osx-64                       664 KB
  + pip                    21.2.4  pyhd8ed1ab_0            conda-forge/noarch                       Cached
  + pixman                 0.40.0  hbcb3906_0              conda-forge/osx-64                       Cached
  + pycairo                1.20.1  py38h53d24c6_0          conda-forge/osx-64                        69 KB
  + pyparsing               2.4.7  pyh9f0ad1d_0            conda-forge/noarch                        60 KB
  + python                 3.8.10  h0e5c897_0_cpython      conda-forge/osx-64                        13 MB
  + python-dateutil         2.8.2  pyhd8ed1ab_0            conda-forge/noarch                       240 KB
  + python_abi                3.8  2_cp38                  conda-forge/osx-64                         4 KB
  + pytz                   2021.1  pyhd8ed1ab_0            conda-forge/noarch                       Cached
  + readline                  8.1  h05e3726_0              conda-forge/osx-64                       Cached
  + scipy                   1.7.1  py38hd329d04_0          conda-forge/osx-64                        20 MB
  + screed                  1.0.5  pyhd8ed1ab_1            conda-forge/noarch                        85 KB
  + setuptools             58.0.2  py38h50d1736_0          conda-forge/osx-64                       930 KB
  + six                    1.16.0  pyh6c4a22f_0            conda-forge/noarch                       Cached
  + sqlite                 3.36.0  h23a322b_0              conda-forge/osx-64                       Cached
  + tk                     8.6.11  h5dbffcc_1              conda-forge/osx-64                       Cached
  + tornado                   6.1  py38h96a0964_1          conda-forge/osx-64                       645 KB
  + wheel                  0.37.0  pyhd8ed1ab_1            conda-forge/noarch                       Cached
  + xz                      5.2.5  haf1e3a3_1              conda-forge/osx-64                       Cached
  + zlib                   1.2.11  h7795811_1010           conda-forge/osx-64                       Cached
  + zstd                    1.5.0  h582d3a0_0              conda-forge/osx-64                       Cached

  Summary:

  Install: 77 packages

  Total download: 75 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /Users/runner/conda/conda-bld

TEST START: cmash-0.5.2-pyh5e36f6f_0.tar.bz2

## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/cmash_1631082783655/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla


The following NEW packages will be INSTALLED:

    blist:           1.3.6-py38h4d0b108_2         conda-forge
    bz2file:         0.98-py_0                    conda-forge
    bzip2:           1.0.8-h0d85af4_4             conda-forge
    c-ares:          1.17.2-h0d85af4_0            conda-forge
    ca-certificates: 2021.5.30-h033912b_0         conda-forge
    cached-property: 1.5.2-hd8ed1ab_1             conda-forge
    cached_property: 1.5.2-pyha770c72_1           conda-forge
    cairo:           1.16.0-he43a7df_1008         conda-forge
    certifi:         2021.5.30-py38h50d1736_0     conda-forge
    cmash:           0.5.2-pyh5e36f6f_0           local      
    cycler:          0.10.0-py_2                  conda-forge
    fontconfig:      2.13.1-h10f422b_1005         conda-forge
    freetype:        2.10.4-h4cff582_1            conda-forge
    gettext:         0.19.8.1-h7937167_1005       conda-forge
    h5py:            3.4.0-nompi_py38h9f21798_100 conda-forge
    hdf5:            1.12.1-nompi_h2f0ef1a_100    conda-forge
    hydra:           2.5-py38h5406a74_0           conda-forge
    icu:             68.1-h74dc148_0              conda-forge
    jbig:            2.1-h0d85af4_2003            conda-forge
    jpeg:            9d-hbcb3906_0                conda-forge
    khmer:           3.0.0a3-py38ha8ac59a_1       bioconda   
    kiwisolver:      1.3.2-py38h12bbefe_0         conda-forge
    krb5:            1.19.2-hcfbf3a7_0            conda-forge
    lcms2:           2.12-h577c468_0              conda-forge
    lerc:            2.2.1-h046ec9c_0             conda-forge
    libblas:         3.9.0-11_osx64_openblas      conda-forge
    libcblas:        3.9.0-11_osx64_openblas      conda-forge
    libcurl:         7.78.0-hf45b732_0            conda-forge
    libcxx:          12.0.1-habf9029_0            conda-forge
    libdeflate:      1.7-h35c211d_5               conda-forge
    libedit:         3.1.20191231-h0678c8f_2      conda-forge
    libev:           4.33-haf1e3a3_1              conda-forge
    libffi:          3.3-h046ec9c_2               conda-forge
    libgfortran:     5.0.0-9_3_0_h6c81a4c_23      conda-forge
    libgfortran5:    9.3.0-h6c81a4c_23            conda-forge
    libglib:         2.68.4-hd556434_0            conda-forge
    libiconv:        1.16-haf1e3a3_0              conda-forge
    liblapack:       3.9.0-11_osx64_openblas      conda-forge
    libnghttp2:      1.43.0-h07e645a_0            conda-forge
    libopenblas:     0.3.17-openmp_h3351f45_1     conda-forge
    libpng:          1.6.37-h7cec526_2            conda-forge
    libssh2:         1.10.0-h52ee1ee_0            conda-forge
    libtiff:         4.3.0-h1167814_1             conda-forge
    libwebp-base:    1.2.1-h0d85af4_0             conda-forge
    libxml2:         2.9.12-h93ec3fd_0            conda-forge
    llvm-openmp:     12.0.1-hda6cdc1_1            conda-forge
    lz4-c:           1.9.3-he49afe7_1             conda-forge
    marisa-trie:     0.7.5-py38h0a5c65b_1001      conda-forge
    matplotlib-base: 3.4.3-py38hc7d2367_0         conda-forge
    ncurses:         6.2-h2e338ed_4               conda-forge
    numpy:           1.21.2-py38h49b9922_0        conda-forge
    olefile:         0.46-pyh9f0ad1d_1            conda-forge
    openjpeg:        2.4.0-h6e7aa92_1             conda-forge
    openssl:         1.1.1l-h0d85af4_0            conda-forge
    pandas:          1.3.2-py38ha53d530_0         conda-forge
    pcre:            8.45-he49afe7_0              conda-forge
    pillow:          8.3.2-py38hee640a0_0         conda-forge
    pip:             21.2.4-pyhd8ed1ab_0          conda-forge
    pixman:          0.40.0-hbcb3906_0            conda-forge
    pycairo:         1.20.1-py38h53d24c6_0        conda-forge
    pyparsing:       2.4.7-pyh9f0ad1d_0           conda-forge
    python:          3.8.10-h0e5c897_0_cpython    conda-forge
    python-dateutil: 2.8.2-pyhd8ed1ab_0           conda-forge
    python_abi:      3.8-2_cp38                   conda-forge
    pytz:            2021.1-pyhd8ed1ab_0          conda-forge
    readline:        8.1-h05e3726_0               conda-forge
    scipy:           1.7.1-py38hd329d04_0         conda-forge
    screed:          1.0.5-pyhd8ed1ab_1           conda-forge
    setuptools:      58.0.2-py38h50d1736_0        conda-forge
    six:             1.16.0-pyh6c4a22f_0          conda-forge
    sqlite:          3.36.0-h23a322b_0            conda-forge
    tk:              8.6.11-h5dbffcc_1            conda-forge
    tornado:         6.1-py38h96a0964_1           conda-forge
    wheel:           0.37.0-pyhd8ed1ab_1          conda-forge
    xz:              5.2.5-haf1e3a3_1             conda-forge
    zlib:            1.2.11-h7795811_1010         conda-forge
    zstd:            1.5.0-h582d3a0_0             conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/cmash_1631082783655/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla
export SRC_DIR=/Users/runner/conda/conda-bld/cmash_1631082783655/test_tmp
import: 'CMash'
import: 'CMash'
usage: MakeStreamingDNADatabase.py [-h] [-p PRIME] [-t THREADS]
                                   [-n NUM_HASHES] [-k K_SIZE] [-v]
                                   in_file out_file

This script creates training/reference sketches for each FASTA/Q file listed
in the input file.

positional arguments:
  in_file               Input file: file containing (absolute) file names of
                        training genomes.
  out_file              Output training database/reference file (in HDF5
                        format). An additional file (ending in .tst) will also
                        be created in the same directory with the same base
                        name.

optional arguments:
  -h, --help            show this help message and exit
  -p PRIME, --prime PRIME
                        Prime (for modding hashes) (default: 9999999999971)
  -t THREADS, --threads THREADS
                        Number of threads to use (default: 3)
  -n NUM_HASHES, --num_hashes NUM_HASHES
                        Number of hashes to use. (default: 500)
  -k K_SIZE, --k_size K_SIZE
                        k-mer size (default: 21)
  -v, --verbose         Print out progress report/timing information (default:
                        False)
usage: MakeStreamingPrefilter.py [-h] reference_file out_file range

This script pre-computes a prefilter for the StreamingQueryDNADatabase (for a
fixed k-range).

positional arguments:
  reference_file  Training database/reference file (in HDF5 format). Created
                  with MakeStreamingDNADatabase.py
  out_file        Output prefilter file.
  range           Range of k-mer sizes in the formate
                  <start>-<end>-<increment>. So 5-10-2 means [5, 7, 9]. If
                  <end> is larger than the k-mer sizeof the training data,
                  this will automatically be reduced.

optional arguments:
  -h, --help      show this help message and exit
usage: StreamingQueryDNADatabase.py [-h] [-t THREADS]
                                    [-c CONTAINMENT_THRESHOLD] [-p]
                                    [-r READS_PER_CORE] [-f FILTER_FILE]
                                    [-l LOCATION_OF_THRESH] [--sensitive] [-v]
                                    in_file reference_file out_file range

This script calculates containment indicies for each of the training/reference
sketches by streaming through the query file.

positional arguments:
  in_file               Input file: FASTA/Q file to be processes
  reference_file        Training database/reference file (in HDF5 format).
                        Created with MakeStreamingDNADatabase.py
  out_file              Output csv file with the containment indices.
  range                 Range of k-mer sizes in the formate
                        <start>-<end>-<increment>. So 5-10-2 means [5, 7, 9].
                        If <end> is larger than the k-mer sizeof the training
                        data, this will automatically be reduced.

optional arguments:
  -h, --help            show this help message and exit
  -t THREADS, --threads THREADS
                        Number of threads to use (default: 3)
  -c CONTAINMENT_THRESHOLD, --containment_threshold CONTAINMENT_THRESHOLD
                        Only return results with containment index above this
                        threshold at the maximum k-mer size. (default: 0.1)
  -p, --plot_file       Optional flag to specify that a plot of the k-mer
                        curves should also be saved (same basenameas the
                        out_file). (default: False)
  -r READS_PER_CORE, --reads_per_core READS_PER_CORE
                        Number of reads per core in each chunk of
                        parallelization. Set as high as memory will allow (eg.
                        1M on 256GB, 48 core machine) (default: 100000)
  -f FILTER_FILE, --filter_file FILTER_FILE
                        Location of pre-filter bloom filter. Use only if you
                        absolutely know what you're doing (hard to error check
                        bloom filters). (default: None)
  -l LOCATION_OF_THRESH, --location_of_thresh LOCATION_OF_THRESH
                        Location in range to apply the threshold passed by the
                        -c flag. -l 2 -c 5-50-10 means the threshold will be
                        applied at k-size 25. Default is largest size.
                        (default: -1)
  --sensitive           Operate in sensitive mode. Marginally more true
                        positives with significantly more false positives. Use
                        with caution. (default: False)
  -v, --verbose         Print out progress report/timing information (default:
                        False)

Resource usage statistics from testing cmash:
   Process count: 5
   CPU time: Sys=0:00:01.0, User=0:00:02.1
   Memory: 79.1M
   Disk usage: 20B
   Time elapsed: 0:00:27.0


TEST END: cmash-0.5.2-pyh5e36f6f_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

