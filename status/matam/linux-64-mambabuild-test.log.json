  Package                  Version  Build                Channel                                    Size
──────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
──────────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex              0.1  conda_forge          conda-forge/linux-64                     Cached
  + _openmp_mutex              4.5  1_gnu                conda-forge/linux-64                     Cached
  + bamtools                 2.5.1  h9a82719_9           bioconda/linux-64                       1012 KB
  + bzip2                    1.0.8  h7f98852_4           conda-forge/linux-64                     Cached
  + c-ares                  1.17.2  h7f98852_0           conda-forge/linux-64                     Cached
  + ca-certificates      2021.5.30  ha878542_0           conda-forge/linux-64                     Cached
  + coreutils                 8.31  h516909a_0           conda-forge/linux-64                     Cached
  + curl                    7.78.0  hea6ffbf_0           conda-forge/linux-64                     Cached
  + gettext               0.19.8.1  h0b5b191_1005        conda-forge/linux-64                     Cached
  + htslib                    1.13  h9093b5e_0           bioconda/linux-64                          2 MB
  + krb5                    1.19.2  hcc1bbae_0           conda-forge/linux-64                     Cached
  + krona                      2.8  pl5262hdfd78af_2     bioconda/noarch                          154 KB
  + ld_impl_linux-64        2.36.1  hea4e1c9_2           conda-forge/linux-64                     Cached
  + libblas                  3.9.0  11_linux64_openblas  conda-forge/linux-64                     Cached
  + libcblas                 3.9.0  11_linux64_openblas  conda-forge/linux-64                     Cached
  + libcurl                 7.78.0  h2574ce0_0           conda-forge/linux-64                     Cached
  + libdeflate                 1.7  h7f98852_5           conda-forge/linux-64                     Cached
  + libedit           3.1.20191231  he28a2e2_2           conda-forge/linux-64                     Cached
  + libev                     4.33  h516909a_1           conda-forge/linux-64                     Cached
  + libffi                     3.3  h58526e2_2           conda-forge/linux-64                     Cached
  + libgcc-ng               11.1.0  hc902ee8_8           conda-forge/linux-64                     Cached
  + libgfortran-ng          11.1.0  h69a702a_8           conda-forge/linux-64                     Cached
  + libgfortran5            11.1.0  h6c583b3_8           conda-forge/linux-64                     Cached
  + libgomp                 11.1.0  hc902ee8_8           conda-forge/linux-64                     Cached
  + libidn2                  2.3.2  h7f98852_0           conda-forge/linux-64                      98 KB
  + liblapack                3.9.0  11_linux64_openblas  conda-forge/linux-64                     Cached
  + libnghttp2              1.43.0  h812cca2_0           conda-forge/linux-64                     Cached
  + libopenblas             0.3.17  pthreads_h8fe5266_1  conda-forge/linux-64                     Cached
  + libssh2                 1.10.0  ha56f1ee_0           conda-forge/linux-64                     Cached
  + libstdcxx-ng            11.1.0  h56837e0_8           conda-forge/linux-64                     Cached
  + libunistring            0.9.10  h7f98852_0           conda-forge/linux-64                       1 MB
  + matam                    1.6.0  h9a82719_2           /home/vsts/conda/conda-bld/linux-64        4 MB
  + ncurses                    6.2  h58526e2_4           conda-forge/linux-64                     Cached
  + numpy                   1.21.2  py39hdbf815f_0       conda-forge/linux-64                       6 MB
  + openjdk                8.0.302  h7f98852_0           conda-forge/linux-64                      98 MB
  + openssl                 1.1.1l  h7f98852_0           conda-forge/linux-64                     Cached
  + perl                    5.26.2  h36c2ea0_1008        conda-forge/linux-64                      15 MB
  + pip                     21.2.4  pyhd8ed1ab_0         conda-forge/noarch                       Cached
  + python                   3.9.7  h49503c6_0_cpython   conda-forge/linux-64                     Cached
  + python_abi                 3.9  2_cp39               conda-forge/linux-64                     Cached
  + rdptools                 2.0.3  hdfd78af_1           bioconda/noarch                          138 MB
  + readline                   8.1  h46c0cb4_0           conda-forge/linux-64                     Cached
  + samtools                  1.13  h8c37831_0           bioconda/linux-64                        397 KB
  + setuptools              57.4.0  py39hf3d152e_0       conda-forge/linux-64                     Cached
  + sga                    0.10.15  ha89c123_6           bioconda/linux-64                          1 MB
  + sortmerna                 2.1b  he860b03_4           bioconda/linux-64                        350 KB
  + sparsehash               2.0.4  h9c3ff4c_0           conda-forge/linux-64                      86 KB
  + sqlite                  3.36.0  h9cd32fc_0           conda-forge/linux-64                     Cached
  + tk                      8.6.11  h27826a3_1           conda-forge/linux-64                     Cached
  + tzdata                   2021a  he74cb21_1           conda-forge/noarch                       Cached
  + vsearch                 2.18.0  h95f258a_0           bioconda/linux-64                          1 MB
  + wget                    1.20.3  ha56f1ee_0           conda-forge/linux-64                     808 KB
  + wheel                   0.37.0  pyhd8ed1ab_1         conda-forge/noarch                       Cached
  + xz                       5.2.5  h516909a_1           conda-forge/linux-64                     Cached
  + zlib                    1.2.11  h516909a_1010        conda-forge/linux-64                     Cached

  Summary:

  Install: 55 packages

  Total download: 270 MB

──────────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /home/vsts/conda/conda-bld

TEST START: matam-1.6.0-h9a82719_2.tar.bz2

## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/matam_1630955202325/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh


The following NEW packages will be INSTALLED:

    _libgcc_mutex:    0.1-conda_forge            conda-forge
    _openmp_mutex:    4.5-1_gnu                  conda-forge
    bamtools:         2.5.1-h9a82719_9           bioconda   
    bzip2:            1.0.8-h7f98852_4           conda-forge
    c-ares:           1.17.2-h7f98852_0          conda-forge
    ca-certificates:  2021.5.30-ha878542_0       conda-forge
    coreutils:        8.31-h516909a_0            conda-forge
    curl:             7.78.0-hea6ffbf_0          conda-forge
    gettext:          0.19.8.1-h0b5b191_1005     conda-forge
    htslib:           1.13-h9093b5e_0            bioconda   
    krb5:             1.19.2-hcc1bbae_0          conda-forge
    krona:            2.8-pl5262hdfd78af_2       bioconda   
    ld_impl_linux-64: 2.36.1-hea4e1c9_2          conda-forge
    libblas:          3.9.0-11_linux64_openblas  conda-forge
    libcblas:         3.9.0-11_linux64_openblas  conda-forge
    libcurl:          7.78.0-h2574ce0_0          conda-forge
    libdeflate:       1.7-h7f98852_5             conda-forge
    libedit:          3.1.20191231-he28a2e2_2    conda-forge
    libev:            4.33-h516909a_1            conda-forge
    libffi:           3.3-h58526e2_2             conda-forge
    libgcc-ng:        11.1.0-hc902ee8_8          conda-forge
    libgfortran-ng:   11.1.0-h69a702a_8          conda-forge
    libgfortran5:     11.1.0-h6c583b3_8          conda-forge
    libgomp:          11.1.0-hc902ee8_8          conda-forge
    libidn2:          2.3.2-h7f98852_0           conda-forge
    liblapack:        3.9.0-11_linux64_openblas  conda-forge
    libnghttp2:       1.43.0-h812cca2_0          conda-forge
    libopenblas:      0.3.17-pthreads_h8fe5266_1 conda-forge
    libssh2:          1.10.0-ha56f1ee_0          conda-forge
    libstdcxx-ng:     11.1.0-h56837e0_8          conda-forge
    libunistring:     0.9.10-h7f98852_0          conda-forge
    matam:            1.6.0-h9a82719_2           local      
    ncurses:          6.2-h58526e2_4             conda-forge
    numpy:            1.21.2-py39hdbf815f_0      conda-forge
    openjdk:          8.0.302-h7f98852_0         conda-forge
    openssl:          1.1.1l-h7f98852_0          conda-forge
    perl:             5.26.2-h36c2ea0_1008       conda-forge
    pip:              21.2.4-pyhd8ed1ab_0        conda-forge
    python:           3.9.7-h49503c6_0_cpython   conda-forge
    python_abi:       3.9-2_cp39                 conda-forge
    rdptools:         2.0.3-hdfd78af_1           bioconda   
    readline:         8.1-h46c0cb4_0             conda-forge
    samtools:         1.13-h8c37831_0            bioconda   
    setuptools:       57.4.0-py39hf3d152e_0      conda-forge
    sga:              0.10.15-ha89c123_6         bioconda   
    sortmerna:        2.1b-he860b03_4            bioconda   
    sparsehash:       2.0.4-h9c3ff4c_0           conda-forge
    sqlite:           3.36.0-h9cd32fc_0          conda-forge
    tk:               8.6.11-h27826a3_1          conda-forge
    tzdata:           2021a-he74cb21_1           conda-forge
    vsearch:          2.18.0-h95f258a_0          bioconda   
    wget:             1.20.3-ha56f1ee_0          conda-forge
    wheel:            0.37.0-pyhd8ed1ab_1        conda-forge
    xz:               5.2.5-h516909a_1           conda-forge
    zlib:             1.2.11-h516909a_1010       conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... 
Krona installed.  You still need to manually update the taxonomy
databases before Krona can generate taxonomic reports.  The update
script is ktUpdateTaxonomy.sh.  The default location for storing
taxonomic databases is /home/vsts/conda/conda-bld/matam_1630955202325/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/opt/krona/taxonomy

If you would like the taxonomic data stored elsewhere, simply replace
this directory with a symlink.  For example:

rm -rf /home/vsts/conda/conda-bld/matam_1630955202325/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/opt/krona/taxonomy
mkdir /path/on/big/disk/taxonomy
ln -s /path/on/big/disk/taxonomy /home/vsts/conda/conda-bld/matam_1630955202325/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/opt/krona/taxonomy
ktUpdateTaxonomy.sh


done
export PREFIX=/home/vsts/conda/conda-bld/matam_1630955202325/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh
export SRC_DIR=/home/vsts/conda/conda-bld/matam_1630955202325/test_tmp
usage: matam_assembly.py [-h] -i FASTQ [-d DBPATH] [-o OUTDIR] [-v] [--cpu CPU] [--max_memory MAXMEM] [--best INT]
                         [--evalue REAL] [--score_threshold REAL] [--straight_mode] [--coverage_threshold INT]
                         [--min_identity REAL] [--min_overlap_length INT] [-N INT] [-E INT] [--seed INT]
                         [--quorum FLOAT] [-a {SGA}] [--read_correction {no,yes,auto}] [--contigs_binning]
                         [--min_scaffold_length MIN_SCAFFOLD_LENGTH] [--perform_taxonomic_assignment]
                         [--training_model {16srrna,fungallsu,fungalits_warcup,fungalits_unite}]
                         [--rdp_cutoff RDP_CUTOFF] [--keep_tmp] [--debug] [--resume_from STEP] [--filter_only]

MATAM assembly

optional arguments:
  -h, --help                                                             show this help message and exit

Main parameters:
  -i FASTQ, --input_fastq FASTQ                                          Input reads file (fasta or fastq format)
  -d DBPATH, --ref_db DBPATH                                             MATAM ref db. Default is
                                                                         $MATAM_DIR/db/SILVA_128_SSURef_NR95
  -o OUTDIR, --out_dir OUTDIR                                            Output directory.Default will be
                                                                         "matam_assembly"
  -v, --verbose                                                          Increase verbosity

Performance:
  --cpu CPU                                                              Max number of CPU to use. Default is 1 cpu
  --max_memory MAXMEM                                                    Maximum memory to use (in MBi). Default is
                                                                         10000 MBi

Read mapping:
  --best INT                                                             Get up to --best good alignments per read.
                                                                         Default is 10
  --evalue REAL                                                          Max e-value to keep an alignment for. Default
                                                                         is 1e-05

Alignment filtering:
  --score_threshold REAL                                                 Score threshold (real between 0 and 1). Default
                                                                         is 0.9
  --straight_mode                                                        Use straight mode filtering. Default is
                                                                         geometric mode
  --coverage_threshold INT                                               Ref coverage threshold. By default set to 0 to
                                                                         desactivate filtering

Overlap-graph building:
  --min_identity REAL                                                    Minimum identity of an overlap between 2 reads.
                                                                         Default is 1.0
  --min_overlap_length INT                                               Minimum length of an overlap. Default is 50

Graph compaction & Components identification:
  -N INT, --min_read_node INT                                            Minimum number of read to keep a node. Default
                                                                         is 1
  -E INT, --min_overlap_edge INT                                         Minimum number of overlap to keep an edge.
                                                                         Default is 1
  --seed INT                                                             Seed to initialize random generator. Default is
                                                                         picking seed from system time

LCA labelling:
  --quorum FLOAT                                                         Quorum for LCA computing. Has to be between
                                                                         0.51 and 1. Default is 0.51

Contigs assembly:
  -a {SGA}, --assembler {SGA}                                            Select the assembler to be used. Default is SGA
  --read_correction {no,yes,auto}                                        Set the assembler read correction step. 'auto'
                                                                         means assemble the components with read
                                                                         correction enabled when the components coverage
                                                                         are sufficient (20X) and assemble the other
                                                                         components without read correction. Default is
                                                                         auto

Scaffolding:
  --contigs_binning                                                      Experimental. Perform contigs binning during
                                                                         scaffolding.
  --min_scaffold_length MIN_SCAFFOLD_LENGTH                              Filter out small scaffolds

Taxonomic assignment:
  --perform_taxonomic_assignment                                         Do the taxonomic assignment
  --training_model {16srrna,fungallsu,fungalits_warcup,fungalits_unite}  The training model used for taxonomic
                                                                         assignment. Default is 16srrna
  --rdp_cutoff RDP_CUTOFF                                                Sequences assigned (by RDP) with a confidence
                                                                         score < 0.8 (at genus level) will be tagged as
                                                                         an artificial "unclassified" taxon

Advanced parameters:
  --keep_tmp                                                             Do not remove tmp files
  --debug                                                                Output debug infos
  --resume_from STEP                                                     Try to resume from given step. Steps are:
                                                                         reads_mapping, alignments_filtering,
                                                                         overlap_graph_building, graph_compaction,
                                                                         contigs_assembly, scaffolding,
                                                                         abundance_calculation, taxonomic_assignment
  --filter_only                                                          Perform only the first step of MATAM (i.e Reads
                                                                         mapping against ref db with sortmerna to filter
                                                                         the reads). Relevant options for this step
                                                                         correspond to the "Read mapping" section.
usage: index_default_ssu_rrna_db.py [-h] [-d DBDIRPATH] [-m MAXMEM]

Index default SSU rRNA DB

optional arguments:
  -h, --help            show this help message and exit
  -d DBDIRPATH, --ref_dir DBDIRPATH
                        Output dir. Default is $MATAM_DIR/db/
  -m MAXMEM, --max_memory MAXMEM
                        Maximum memory to use (in MBi). Default is 10000 MBi
usage: matam_db_preprocessing.py [-h] -i INREF [-d DBDIR] [-v] [--cpu CPU] [--max_memory MAXMEM] [-m MINLGTH]
                                 [-M MAXLGTH] [-n MAXN] [--clustering_id_threshold REAL] [--by_kingdom]
                                 [--kingdoms STR [STR ...]] [--out_db_name OUTNAME] [--keep_tmp] [--debug]

MATAM db preprocessing

optional arguments:
  -h, --help                         show this help message and exit

Main parameters:
  -i INREF, --input_ref INREF        Input reference file (fasta format). Silva-formated taxonomies will be used if
                                     available
  -d DBDIR, --db_dir DBDIR           Database output directory. Default is cwd
  -v, --verbose                      Increase verbosity

Performance:
  --cpu CPU                          Max number of CPU to use. Default is 1 cpu
  --max_memory MAXMEM                Maximum memory to use (in MBi). Default is 10000 MBi

Advanced parameters:
  -m MINLGTH, --min_length MINLGTH   Ref sequences minimum length
  -M MAXLGTH, --max_length MAXLGTH   Ref sequences maximum length
  -n MAXN, --max_consecutive_n MAXN  Maximum nb of consecutive Ns a sequence is allowed to have. Default is 5. Setting
                                     it to 0 will remove all sequences with Ns. Ns in accepted sequences will be
                                     replaced by As
  --clustering_id_threshold REAL     Identity threshold for clustering. Default is 0.95
  --by_kingdom                       Perform clustering by kingdom
  --kingdoms STR [STR ...]           Kingdoms to clusterize the DB for. Default is ['archaea', 'bacteria', 'eukaryota']
  --out_db_name OUTNAME              Output MATAM db name. Default is composed from parameters
  --keep_tmp                         Do not remove tmp files
  --debug                            Output debug infos
usage: matam_compare_samples.py [-h] -s SAMPLES_FILE -t
                                OUPUT_CONTINGENCY_TABLE -c
                                OUPUT_COMPARAISON_TABLE

This script let you compare two or more samples coming from MATAM -- v1.5.1 or
superior

optional arguments:
  -h, --help            show this help message and exit
  -s SAMPLES_FILE, --samples_file SAMPLES_FILE
                        A tabulated file with one sample by row. The first
                        column contains the sample id (must be unique) The
                        second column contains the fasta path. The abundances
                        must be present into this file. The third, the rdp
                        path. Paths can be absolute or relative to the current
                        working directory.
  -t OUPUT_CONTINGENCY_TABLE, --ouput_contingency_table OUPUT_CONTINGENCY_TABLE
                        Output a table with the abundance for each sequence
  -c OUPUT_COMPARAISON_TABLE, --ouput_comparaison_table OUPUT_COMPARAISON_TABLE
                        Output a comparaison table (taxonomy vs samples)

Resource usage statistics from testing matam:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.4M
   Disk usage: 16B
   Time elapsed: 0:00:02.1


TEST END: matam-1.6.0-h9a82719_2.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

