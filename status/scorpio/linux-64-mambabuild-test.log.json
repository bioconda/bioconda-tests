  Package               Version  Build                Channel                                   Size
──────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
──────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex           0.1  conda_forge          conda-forge/linux-64                    Cached
  + _openmp_mutex           4.5  1_gnu                conda-forge/linux-64                    Cached
  + biopython              1.79  py39h3811e60_0       conda-forge/linux-64                    Cached
  + ca-certificates   2021.5.30  ha878542_0           conda-forge/linux-64                    Cached
  + constellations       0.0.15  pyh5e36f6f_0         bioconda/noarch                          22 KB
  + ld_impl_linux-64     2.36.1  hea4e1c9_2           conda-forge/linux-64                    Cached
  + libblas               3.9.0  11_linux64_openblas  conda-forge/linux-64                    Cached
  + libcblas              3.9.0  11_linux64_openblas  conda-forge/linux-64                    Cached
  + libffi                  3.3  h58526e2_2           conda-forge/linux-64                    Cached
  + libgcc-ng            11.1.0  hc902ee8_8           conda-forge/linux-64                    Cached
  + libgfortran-ng       11.1.0  h69a702a_8           conda-forge/linux-64                    Cached
  + libgfortran5         11.1.0  h6c583b3_8           conda-forge/linux-64                    Cached
  + libgomp              11.1.0  hc902ee8_8           conda-forge/linux-64                    Cached
  + liblapack             3.9.0  11_linux64_openblas  conda-forge/linux-64                    Cached
  + libopenblas          0.3.17  pthreads_h8fe5266_1  conda-forge/linux-64                    Cached
  + libstdcxx-ng         11.1.0  h56837e0_8           conda-forge/linux-64                    Cached
  + ncurses                 6.2  h58526e2_4           conda-forge/linux-64                    Cached
  + numpy                1.21.2  py39hdbf815f_0       conda-forge/linux-64                    Cached
  + openssl              1.1.1l  h7f98852_0           conda-forge/linux-64                    Cached
  + pip                  21.2.4  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + python                3.9.7  h49503c6_0_cpython   conda-forge/linux-64                    Cached
  + python_abi              3.9  2_cp39               conda-forge/linux-64                    Cached
  + readline                8.1  h46c0cb4_0           conda-forge/linux-64                    Cached
  + scorpio              0.3.12  pyhdfd78af_0         /home/vsts/conda/conda-bld/linux-64      37 KB
  + setuptools           57.4.0  py39hf3d152e_0       conda-forge/linux-64                    Cached
  + sqlite               3.36.0  h9cd32fc_0           conda-forge/linux-64                    Cached
  + tk                   8.6.11  h27826a3_1           conda-forge/linux-64                    Cached
  + tzdata                2021a  he74cb21_1           conda-forge/noarch                      Cached
  + wheel                0.37.0  pyhd8ed1ab_1         conda-forge/noarch                      Cached
  + xz                    5.2.5  h516909a_1           conda-forge/linux-64                    Cached
  + zlib                 1.2.11  h516909a_1010        conda-forge/linux-64                    Cached

  Summary:

  Install: 31 packages

  Total download: 59 KB

──────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /home/vsts/conda/conda-bld

TEST START: scorpio-0.3.12-pyhdfd78af_0.tar.bz2

## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/scorpio_1630960648530/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac


The following NEW packages will be INSTALLED:

    _libgcc_mutex:    0.1-conda_forge            conda-forge
    _openmp_mutex:    4.5-1_gnu                  conda-forge
    biopython:        1.79-py39h3811e60_0        conda-forge
    ca-certificates:  2021.5.30-ha878542_0       conda-forge
    constellations:   0.0.15-pyh5e36f6f_0        bioconda   
    ld_impl_linux-64: 2.36.1-hea4e1c9_2          conda-forge
    libblas:          3.9.0-11_linux64_openblas  conda-forge
    libcblas:         3.9.0-11_linux64_openblas  conda-forge
    libffi:           3.3-h58526e2_2             conda-forge
    libgcc-ng:        11.1.0-hc902ee8_8          conda-forge
    libgfortran-ng:   11.1.0-h69a702a_8          conda-forge
    libgfortran5:     11.1.0-h6c583b3_8          conda-forge
    libgomp:          11.1.0-hc902ee8_8          conda-forge
    liblapack:        3.9.0-11_linux64_openblas  conda-forge
    libopenblas:      0.3.17-pthreads_h8fe5266_1 conda-forge
    libstdcxx-ng:     11.1.0-h56837e0_8          conda-forge
    ncurses:          6.2-h58526e2_4             conda-forge
    numpy:            1.21.2-py39hdbf815f_0      conda-forge
    openssl:          1.1.1l-h7f98852_0          conda-forge
    pip:              21.2.4-pyhd8ed1ab_0        conda-forge
    python:           3.9.7-h49503c6_0_cpython   conda-forge
    python_abi:       3.9-2_cp39                 conda-forge
    readline:         8.1-h46c0cb4_0             conda-forge
    scorpio:          0.3.12-pyhdfd78af_0        local      
    setuptools:       57.4.0-py39hf3d152e_0      conda-forge
    sqlite:           3.36.0-h9cd32fc_0          conda-forge
    tk:               8.6.11-h27826a3_1          conda-forge
    tzdata:           2021a-he74cb21_1           conda-forge
    wheel:            0.37.0-pyhd8ed1ab_1        conda-forge
    xz:               5.2.5-h516909a_1           conda-forge
    zlib:             1.2.11-h516909a_1010       conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/home/vsts/conda/conda-bld/scorpio_1630960648530/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac
export SRC_DIR=/home/vsts/conda/conda-bld/scorpio_1630960648530/test_tmp
usage: scorpio classify [-h] [-i INPUT] [-m METADATA] [-o OUTPUT] [-p PREFIX]
                        [--log-file <filename>]
                        [-c CONSTELLATIONS [CONSTELLATIONS ...]]
                        [-n NAMES [NAMES ...]] [-l LABEL] [--pangolin]
                        [--mutations MUTATIONS [MUTATIONS ...]] [--verbose]
                        [--dry-run] [-t THREADS]
                        [--reference-json REFERENCE_JSON] [--output-counts]
                        [--call-all] [--long] [--list-incompatible]

optional arguments:
  -h, --help            show this help message and exit
  --reference-json REFERENCE_JSON
                        JSON file containing keys "genome" with reference
                        sequence and "proteins", "features" or "genes" with
                        features of interest and their coordinates
  --output-counts       Save a file per constellation of ref, alt and other
                        counts
  --call-all            Allow multiple classifications
  --long                Write out summary file in long format
  --list-incompatible   Adds column listing incompatible lineages listed in
                        JSON

Input/output options:
  -i INPUT, --input INPUT
                        Primary input file
  -m METADATA, --metadata METADATA
                        CSV of associated metadata
  -o OUTPUT, --output OUTPUT
                        Output file or path
  -p PREFIX, --prefix PREFIX
                        Output prefix. Default: scorpio
  --log-file <filename>
                        Log file to use (otherwise uses stdout)

Constellation options:
  -c CONSTELLATIONS [CONSTELLATIONS ...], --constellations CONSTELLATIONS [CONSTELLATIONS ...]
                        One or more JSON (or CSV) files specifying variants
  -n NAMES [NAMES ...], --names NAMES [NAMES ...]
                        Names of constellations to include
  -l LABEL, --label LABEL
                        Use alternative label specified in JSON where possible
  --pangolin            Uses `mrca_lineage` as label and excludes
                        constellations/data directory for robustness
  --mutations MUTATIONS [MUTATIONS ...]
                        Extra mutations to type

Misc options:
  --verbose             Print lots of stuff to screen
  --dry-run             Quit after checking constellations and variants are
                        AOK
  -t THREADS, --threads THREADS
                        Number of threads
usage: scorpio haplotype [-h] [-i INPUT] [-m METADATA] [-o OUTPUT] [-p PREFIX]
                         [--log-file <filename>]
                         [-c CONSTELLATIONS [CONSTELLATIONS ...]]
                         [-n NAMES [NAMES ...]] [-l LABEL] [--pangolin]
                         [--mutations MUTATIONS [MUTATIONS ...]] [--verbose]
                         [--dry-run] [-t THREADS]
                         [--reference-json REFERENCE_JSON]
                         [--ref-char REF_CHAR] [--output-counts]
                         [--append-genotypes]

optional arguments:
  -h, --help            show this help message and exit
  --reference-json REFERENCE_JSON
                        JSON file containing keys "genome" with reference
                        sequence and "proteins", "features" or "genes" with
                        features of interest and their coordinates
  --ref-char REF_CHAR   Symbol to use to represent reference allele
  --output-counts       Save a file per constellation of ref, alt and other
                        counts
  --append-genotypes    Output a column per variant with the call

Input/output options:
  -i INPUT, --input INPUT
                        Primary input file
  -m METADATA, --metadata METADATA
                        CSV of associated metadata
  -o OUTPUT, --output OUTPUT
                        Output file or path
  -p PREFIX, --prefix PREFIX
                        Output prefix. Default: scorpio
  --log-file <filename>
                        Log file to use (otherwise uses stdout)

Constellation options:
  -c CONSTELLATIONS [CONSTELLATIONS ...], --constellations CONSTELLATIONS [CONSTELLATIONS ...]
                        One or more JSON (or CSV) files specifying variants
  -n NAMES [NAMES ...], --names NAMES [NAMES ...]
                        Names of constellations to include
  -l LABEL, --label LABEL
                        Use alternative label specified in JSON where possible
  --pangolin            Uses `mrca_lineage` as label and excludes
                        constellations/data directory for robustness
  --mutations MUTATIONS [MUTATIONS ...]
                        Extra mutations to type

Misc options:
  --verbose             Print lots of stuff to screen
  --dry-run             Quit after checking constellations and variants are
                        AOK
  -t THREADS, --threads THREADS
                        Number of threads
usage: scorpio report [-h] [-i INPUT] [-m METADATA] [-o OUTPUT] [-p PREFIX]
                      [--log-file <filename>]
                      [-c CONSTELLATIONS [CONSTELLATIONS ...]]
                      [-n NAMES [NAMES ...]] [-l LABEL] [--pangolin]
                      [--mutations MUTATIONS [MUTATIONS ...]] [--verbose]
                      [--dry-run] [-t THREADS]

optional arguments:
  -h, --help            show this help message and exit

Input/output options:
  -i INPUT, --input INPUT
                        Primary input file
  -m METADATA, --metadata METADATA
                        CSV of associated metadata
  -o OUTPUT, --output OUTPUT
                        Output file or path
  -p PREFIX, --prefix PREFIX
                        Output prefix. Default: scorpio
  --log-file <filename>
                        Log file to use (otherwise uses stdout)

Constellation options:
  -c CONSTELLATIONS [CONSTELLATIONS ...], --constellations CONSTELLATIONS [CONSTELLATIONS ...]
                        One or more JSON (or CSV) files specifying variants
  -n NAMES [NAMES ...], --names NAMES [NAMES ...]
                        Names of constellations to include
  -l LABEL, --label LABEL
                        Use alternative label specified in JSON where possible
  --pangolin            Uses `mrca_lineage` as label and excludes
                        constellations/data directory for robustness
  --mutations MUTATIONS [MUTATIONS ...]
                        Extra mutations to type

Misc options:
  --verbose             Print lots of stuff to screen
  --dry-run             Quit after checking constellations and variants are
                        AOK
  -t THREADS, --threads THREADS
                        Number of threads
usage: scorpio define [-h] [-i INPUT] [-m METADATA] [-o OUTPUT] [-p PREFIX]
                      [--log-file <filename>]
                      [-c CONSTELLATIONS [CONSTELLATIONS ...]]
                      [-n NAMES [NAMES ...]] [-l LABEL] [--pangolin]
                      [--mutations MUTATIONS [MUTATIONS ...]] [--verbose]
                      [--dry-run] [-t THREADS]
                      [--reference-json REFERENCE_JSON]
                      [--in-groups IN_GROUPS] [--group-column GROUP_COLUMN]
                      [--index-column INDEX_COLUMN]
                      [--subset SUBSET [SUBSET ...]]
                      [--threshold-common THRESHOLD_COMMON]
                      [--threshold-intermediate THRESHOLD_INTERMEDIATE]
                      [--outgroups OUTGROUPS]

optional arguments:
  -h, --help            show this help message and exit
  --reference-json REFERENCE_JSON
                        JSON file containing keys "genome" with reference
                        sequence and "proteins", "features" or "genes" with
                        features of interest and their coordinates
  --in-groups IN_GROUPS
                        CSV of containing sequence_name and a column defining
                        groups
  --group-column GROUP_COLUMN
                        Column name defining the groups
  --index-column INDEX_COLUMN
                        Taxon column name
  --subset SUBSET [SUBSET ...]
                        Names of a subset of groups to define
  --threshold-common THRESHOLD_COMMON
                        Frequency of a variant within group to be considered
                        common
  --threshold-intermediate THRESHOLD_INTERMEDIATE
                        Frequency of a variant within group to be reported as
                        intermediate
  --outgroups OUTGROUPS
                        Two column CSV with group, and pipe separated list of
                        outgroup sequence_names for that list. Assumes
                        outgroups will be in main input CSV

Input/output options:
  -i INPUT, --input INPUT
                        Primary input file
  -m METADATA, --metadata METADATA
                        CSV of associated metadata
  -o OUTPUT, --output OUTPUT
                        Output file or path
  -p PREFIX, --prefix PREFIX
                        Output prefix. Default: scorpio
  --log-file <filename>
                        Log file to use (otherwise uses stdout)

Constellation options:
  -c CONSTELLATIONS [CONSTELLATIONS ...], --constellations CONSTELLATIONS [CONSTELLATIONS ...]
                        One or more JSON (or CSV) files specifying variants
  -n NAMES [NAMES ...], --names NAMES [NAMES ...]
                        Names of constellations to include
  -l LABEL, --label LABEL
                        Use alternative label specified in JSON where possible
  --pangolin            Uses `mrca_lineage` as label and excludes
                        constellations/data directory for robustness
  --mutations MUTATIONS [MUTATIONS ...]
                        Extra mutations to type

Misc options:
  --verbose             Print lots of stuff to screen
  --dry-run             Quit after checking constellations and variants are
                        AOK
  -t THREADS, --threads THREADS
                        Number of threads

Resource usage statistics from testing scorpio:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.4M
   Disk usage: 20B
   Time elapsed: 0:00:02.1


TEST END: scorpio-0.3.12-pyhdfd78af_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

