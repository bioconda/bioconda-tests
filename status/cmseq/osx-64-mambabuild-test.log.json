  Package                 Version  Build               Channel                                    Size
────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────

  + bcbio-gff               0.6.6  pyh864c0ab_1        bioconda/noarch                           19 KB
  + biopython                1.79  py39h89e85a6_0      conda-forge/osx-64                         3 MB
  + bx-python              0.8.11  py39hc8e2088_1      bioconda/osx-64                          934 KB
  + bzip2                   1.0.8  h0d85af4_4          conda-forge/osx-64                       Cached
  + c-ares                 1.17.2  h0d85af4_0          conda-forge/osx-64                       Cached
  + ca-certificates     2021.5.30  h033912b_0          conda-forge/osx-64                       Cached
  + cmseq                   1.0.4  pyhb7b1952_0        /Users/runner/conda/conda-bld/osx-64      25 KB
  + htslib                   1.13  hc38c3fb_0          bioconda/osx-64                            2 MB
  + krb5                   1.19.2  hcfbf3a7_0          conda-forge/osx-64                       Cached
  + libblas                 3.9.0  11_osx64_openblas   conda-forge/osx-64                       Cached
  + libcblas                3.9.0  11_osx64_openblas   conda-forge/osx-64                       Cached
  + libcurl                7.78.0  hf45b732_0          conda-forge/osx-64                       Cached
  + libcxx                 12.0.1  habf9029_0          conda-forge/osx-64                       Cached
  + libdeflate                1.7  h35c211d_5          conda-forge/osx-64                       Cached
  + libedit          3.1.20191231  h0678c8f_2          conda-forge/osx-64                       Cached
  + libev                    4.33  haf1e3a3_1          conda-forge/osx-64                       Cached
  + libffi                    3.3  h046ec9c_2          conda-forge/osx-64                       Cached
  + libgfortran             5.0.0  9_3_0_h6c81a4c_23   conda-forge/osx-64                       Cached
  + libgfortran5            9.3.0  h6c81a4c_23         conda-forge/osx-64                       Cached
  + liblapack               3.9.0  11_osx64_openblas   conda-forge/osx-64                       Cached
  + libnghttp2             1.43.0  h07e645a_0          conda-forge/osx-64                       Cached
  + libopenblas            0.3.17  openmp_h3351f45_1   conda-forge/osx-64                       Cached
  + libssh2                1.10.0  h52ee1ee_0          conda-forge/osx-64                       Cached
  + llvm-openmp            12.0.1  hda6cdc1_1          conda-forge/osx-64                       Cached
  + lzo                      2.10  haf1e3a3_1000       conda-forge/osx-64                       Cached
  + ncurses                   6.2  h2e338ed_4          conda-forge/osx-64                       Cached
  + numpy                  1.21.2  py39h7eed0ac_0      conda-forge/osx-64                         6 MB
  + openssl                1.1.1l  h0d85af4_0          conda-forge/osx-64                       Cached
  + pandas                  1.3.2  py39h4d6be9b_0      conda-forge/osx-64                        12 MB
  + pip                    21.2.4  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + pysam                0.16.0.1  py39h56703ae_3      bioconda/osx-64                            2 MB
  + python                  3.9.7  hd187cdc_0_cpython  conda-forge/osx-64                       Cached
  + python-dateutil         2.8.2  pyhd8ed1ab_0        conda-forge/noarch                       240 KB
  + python-lzo               1.12  py39h62b3f28_1003   conda-forge/osx-64                        17 KB
  + python_abi                3.9  2_cp39              conda-forge/osx-64                       Cached
  + pytz                   2021.1  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + readline                  8.1  h05e3726_0          conda-forge/osx-64                       Cached
  + samtools                 1.13  h7596a89_0          bioconda/osx-64                          404 KB
  + scipy                   1.7.1  py39h056f1c0_0      conda-forge/osx-64                        20 MB
  + setuptools             57.4.0  py39h6e9494a_0      conda-forge/osx-64                       Cached
  + six                    1.16.0  pyh6c4a22f_0        conda-forge/noarch                       Cached
  + sqlite                 3.36.0  h23a322b_0          conda-forge/osx-64                       Cached
  + tk                     8.6.11  h5dbffcc_1          conda-forge/osx-64                       Cached
  + tzdata                  2021a  he74cb21_1          conda-forge/noarch                       Cached
  + wheel                  0.37.0  pyhd8ed1ab_1        conda-forge/noarch                       Cached
  + xz                      5.2.5  haf1e3a3_1          conda-forge/osx-64                       Cached
  + zlib                   1.2.11  h7795811_1010       conda-forge/osx-64                       Cached

  Summary:

  Install: 47 packages

  Total download: 46 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /Users/runner/conda/conda-bld

TEST START: cmseq-1.0.4-pyhb7b1952_0.tar.bz2

## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/cmseq_1630943153685/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla


The following NEW packages will be INSTALLED:

    bcbio-gff:       0.6.6-pyh864c0ab_1       bioconda   
    biopython:       1.79-py39h89e85a6_0      conda-forge
    bx-python:       0.8.11-py39hc8e2088_1    bioconda   
    bzip2:           1.0.8-h0d85af4_4         conda-forge
    c-ares:          1.17.2-h0d85af4_0        conda-forge
    ca-certificates: 2021.5.30-h033912b_0     conda-forge
    cmseq:           1.0.4-pyhb7b1952_0       local      
    htslib:          1.13-hc38c3fb_0          bioconda   
    krb5:            1.19.2-hcfbf3a7_0        conda-forge
    libblas:         3.9.0-11_osx64_openblas  conda-forge
    libcblas:        3.9.0-11_osx64_openblas  conda-forge
    libcurl:         7.78.0-hf45b732_0        conda-forge
    libcxx:          12.0.1-habf9029_0        conda-forge
    libdeflate:      1.7-h35c211d_5           conda-forge
    libedit:         3.1.20191231-h0678c8f_2  conda-forge
    libev:           4.33-haf1e3a3_1          conda-forge
    libffi:          3.3-h046ec9c_2           conda-forge
    libgfortran:     5.0.0-9_3_0_h6c81a4c_23  conda-forge
    libgfortran5:    9.3.0-h6c81a4c_23        conda-forge
    liblapack:       3.9.0-11_osx64_openblas  conda-forge
    libnghttp2:      1.43.0-h07e645a_0        conda-forge
    libopenblas:     0.3.17-openmp_h3351f45_1 conda-forge
    libssh2:         1.10.0-h52ee1ee_0        conda-forge
    llvm-openmp:     12.0.1-hda6cdc1_1        conda-forge
    lzo:             2.10-haf1e3a3_1000       conda-forge
    ncurses:         6.2-h2e338ed_4           conda-forge
    numpy:           1.21.2-py39h7eed0ac_0    conda-forge
    openssl:         1.1.1l-h0d85af4_0        conda-forge
    pandas:          1.3.2-py39h4d6be9b_0     conda-forge
    pip:             21.2.4-pyhd8ed1ab_0      conda-forge
    pysam:           0.16.0.1-py39h56703ae_3  bioconda   
    python:          3.9.7-hd187cdc_0_cpython conda-forge
    python-dateutil: 2.8.2-pyhd8ed1ab_0       conda-forge
    python-lzo:      1.12-py39h62b3f28_1003   conda-forge
    python_abi:      3.9-2_cp39               conda-forge
    pytz:            2021.1-pyhd8ed1ab_0      conda-forge
    readline:        8.1-h05e3726_0           conda-forge
    samtools:        1.13-h7596a89_0          bioconda   
    scipy:           1.7.1-py39h056f1c0_0     conda-forge
    setuptools:      57.4.0-py39h6e9494a_0    conda-forge
    six:             1.16.0-pyh6c4a22f_0      conda-forge
    sqlite:          3.36.0-h23a322b_0        conda-forge
    tk:              8.6.11-h5dbffcc_1        conda-forge
    tzdata:          2021a-he74cb21_1         conda-forge
    wheel:           0.37.0-pyhd8ed1ab_1      conda-forge
    xz:              5.2.5-haf1e3a3_1         conda-forge
    zlib:            1.2.11-h7795811_1010     conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/cmseq_1630943153685/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pla
export SRC_DIR=/Users/runner/conda/conda-bld/cmseq_1630943153685/test_tmp
usage: breadth_depth.py [-h] [-c REFERENCE ID] [-f] [--sortindex]
                        [--minlen MINLEN] [--minqual MINQUAL]
                        [--mincov MINCOV] [--truncate TRUNCATE] [--combine]
                        BAMFILE

calculate the Breadth and Depth of coverage of BAMFILE.

positional arguments:
  BAMFILE               The file on which to operate

optional arguments:
  -h, --help            show this help message and exit
  -c REFERENCE ID, --contig REFERENCE ID
                        Focus on a subset of references in the BAM file. Can
                        be a list of references separated by commas or a FASTA
                        file (the IDs are used to subset)
  -f                    If set unmapped (FUNMAP), secondary (FSECONDARY), qc-
                        fail (FQCFAIL) and duplicate (FDUP) are excluded. If
                        unset ALL reads are considered (bedtools genomecov
                        style). Default: unset
  --sortindex           Sort and index the file
  --minlen MINLEN       Minimum Reference Length for a reference to be
                        considered
  --minqual MINQUAL     Minimum base quality. Bases with quality score lower
                        than this will be discarded. This is performed BEFORE
                        --mincov. Default: 30
  --mincov MINCOV       Minimum position coverage to perform the polymorphism
                        calculation. Position with a lower depth of coverage
                        will be discarded (i.e. considered as zero-coverage
                        positions). This is calculated AFTER --minqual.
                        Default: 1
  --truncate TRUNCATE   Number of nucleotides that are truncated at either
                        contigs end before calculating coverage values.
  --combine             Combine all contigs into one giant contig and report
                        it at the end
usage: consensus.py [-h] [-c REFERENCE ID] [-f] [--sortindex]
                    [--minqual MINQUAL] [--mincov MINCOV]
                    [--dominant_frq_thrsh DOMINANT_FRQ_THRSH]
                    [--minlen MINLEN] [--trim TRIM]
                    BAMFILE

outputs the consensus in FASTA format. Non covered positions (or quality-
trimmed positions) are reported as a dashes: -

positional arguments:
  BAMFILE               The file on which to operate

optional arguments:
  -h, --help            show this help message and exit
  -c REFERENCE ID, --contig REFERENCE ID
                        Focus on a subset of references in the BAM file. Can
                        be a list of references separated by commas or a FASTA
                        file (the IDs are used to subset)
  -f                    If set unmapped (FUNMAP), secondary (FSECONDARY), qc-
                        fail (FQCFAIL) and duplicate (FDUP) are excluded. If
                        unset ALL reads are considered (bedtools genomecov
                        style). Default: unset
  --sortindex           Sort and index the file
  --minqual MINQUAL     Minimum base quality. Bases with quality score lower
                        than this will be discarded. This is performed BEFORE
                        --mincov. Default: 30
  --mincov MINCOV       Minimum position coverage to perform the polymorphism
                        calculation. Position with a lower depth of coverage
                        will be discarded (i.e. considered as zero-coverage
                        positions). This is calculated AFTER --minqual.
                        Default: 0
  --dominant_frq_thrsh DOMINANT_FRQ_THRSH
                        Cutoff for degree of `allele dominance` for a position
                        to be considered polymorphic. Default: 0.8
  --minlen MINLEN       Minimum Reference Length for a reference to be
                        considered. Default: 0
  --trim TRIM           Trim the reads before computing the consensus. A value
                        of 10:10 means that the first and last 10 positions of
                        each read will be ignored. Default: None
usage: polymut.py [-h] [-c REFERENCE ID] [-f] [--sortindex] [--minlen MINLEN]
                  [--minqual MINQUAL] [--mincov MINCOV]
                  [--dominant_frq_thrsh DOMINANT_FRQ_THRSH]
                  [--gff_file GFF_FILE]
                  BAMFILE

Reports the polymorpgic rate of each reference (polymorphic bases / total
bases). Focuses only on covered regions (i.e. depth >= 1)

positional arguments:
  BAMFILE               The file on which to operate

optional arguments:
  -h, --help            show this help message and exit
  -c REFERENCE ID, --contig REFERENCE ID
                        Focus on a subset of references in the BAM file. Can
                        be a list of references separated by commas or a FASTA
                        file (the IDs are used to subset)
  -f                    If set unmapped (FUNMAP), secondary (FSECONDARY), qc-
                        fail (FQCFAIL) and duplicate (FDUP) are excluded. If
                        unset ALL reads are considered (bedtools genomecov
                        style). Default: unset
  --sortindex           Sort and index the file
  --minlen MINLEN       Minimum Reference Length for a reference to be
                        considered. Default: 0
  --minqual MINQUAL     Minimum base quality. Bases with quality score lower
                        than this will be discarded. This is performed BEFORE
                        --mincov. Default: 30
  --mincov MINCOV       Minimum position coverage to perform the polymorphism
                        calculation. Position with a lower depth of coverage
                        will be discarded (i.e. considered as zero-coverage
                        positions). This is calculated AFTER --minqual.
                        Default:1
  --dominant_frq_thrsh DOMINANT_FRQ_THRSH
                        Cutoff for degree of `allele dominance` for a position
                        to be considered polymorphic. Default: 0.8
  --gff_file GFF_FILE   GFF file used to extract protein-coding genes
usage: poly.py [-h] [-c REFERENCE ID] [-f] [--sortindex] [--minlen MINLEN]
               [--minqual MINQUAL] [--mincov MINCOV] [--pvalue PVALUE]
               [--seq_err SEQ_ERR] [--dominant_frq_thrsh DOMINANT_FRQ_THRSH]
               BAMFILE

Reports the polymorpgic rate of each reference (polymorphic bases / total
bases). Focuses only on covered regions (i.e. depth >= 1)

positional arguments:
  BAMFILE               The file on which to operate

optional arguments:
  -h, --help            show this help message and exit
  -c REFERENCE ID, --contig REFERENCE ID
                        Focus on a subset of references in the BAM file. Can
                        be a list of references separated by commas or a FASTA
                        file (the IDs are used to subset)
  -f                    If set unmapped (FUNMAP), secondary (FSECONDARY), qc-
                        fail (FQCFAIL) and duplicate (FDUP) are excluded. If
                        unset ALL reads are considered (bedtools genomecov
                        style). Default: unset
  --sortindex           Sort and index the file
  --minlen MINLEN       Minimum Reference Length for a reference to be
                        considered. Default: 0
  --minqual MINQUAL     Minimum base quality. Bases with quality score lower
                        than this will be discarded. This is performed BEFORE
                        --mincov. Default: 30
  --mincov MINCOV       Minimum position coverage to perform the polymorphism
                        calculation. Position with a lower depth of coverage
                        will be discarded (i.e. considered as zero-coverage
                        positions). This is calculated AFTER --minqual.
                        Default:1
  --pvalue PVALUE       Binomial p-value threshold for the binomal-polymorphic
                        test. Default: 0.01
  --seq_err SEQ_ERR     Sequencing error rate. Default: 0.001
  --dominant_frq_thrsh DOMINANT_FRQ_THRSH
                        Cutoff for degree of `allele dominance` for a position
                        to be considered polymorphic. Default: 0.8

Resource usage statistics from testing cmseq:
   Process count: 4
   CPU time: Sys=0:00:00.6, User=0:00:01.8
   Memory: 77.5M
   Disk usage: 16B
   Time elapsed: 0:00:18.8


TEST END: cmseq-1.0.4-pyhb7b1952_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

