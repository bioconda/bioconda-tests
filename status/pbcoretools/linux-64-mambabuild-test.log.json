Updating build index: /home/vsts/conda/conda-bld

TEST START: pbcoretools-0.8.1-py_1.tar.bz2
Adding in variants from internal_defaults
Adding in variants from /tmp/tmpeo6_mhg0/info/recipe/conda_build_config.yaml
  Package                    Version  Build                 Channel                                   Size
────────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex                0.1  conda_forge           conda-forge/linux-64                    Cached
  + _openmp_mutex                4.5  1_gnu                 conda-forge/linux-64                    Cached
  + avro-python3               1.9.0  py37_0                bioconda/noarch                          35 KB
  + biopython                   1.79  py37h5e8e339_0        conda-forge/linux-64                      3 MB
  + brotlipy                   0.7.0  py37h5e8e339_1001     conda-forge/linux-64                    341 KB
  + bzip2                      1.0.8  h7f98852_4            conda-forge/linux-64                    Cached
  + c-ares                    1.17.2  h7f98852_0            conda-forge/linux-64                    Cached
  + ca-certificates        2021.5.30  ha878542_0            conda-forge/linux-64                    Cached
  + certifi                2021.5.30  py37h89c1867_0        conda-forge/linux-64                    141 KB
  + cffi                      1.14.6  py37hc58025e_0        conda-forge/linux-64                    225 KB
  + chardet                    4.0.0  py37h89c1867_1        conda-forge/linux-64                    204 KB
  + charset-normalizer         2.0.0  pyhd8ed1ab_0          conda-forge/noarch                      Cached
  + cryptography               3.4.7  py37h5d9358c_0        conda-forge/linux-64                      1 MB
  + idna                         3.1  pyhd3deb0d_0          conda-forge/noarch                      Cached
  + iso8601                   0.1.16  pyhd8ed1ab_0          conda-forge/noarch                       13 KB
  + krb5                      1.19.2  hcc1bbae_0            conda-forge/linux-64                    Cached
  + ld_impl_linux-64          2.36.1  hea4e1c9_2            conda-forge/linux-64                    Cached
  + libblas                    3.9.0  11_linux64_openblas   conda-forge/linux-64                    Cached
  + libcblas                   3.9.0  11_linux64_openblas   conda-forge/linux-64                    Cached
  + libcurl                   7.78.0  h2574ce0_0            conda-forge/linux-64                    Cached
  + libdeflate                   1.7  h7f98852_5            conda-forge/linux-64                    Cached
  + libedit             3.1.20191231  he28a2e2_2            conda-forge/linux-64                    Cached
  + libev                       4.33  h516909a_1            conda-forge/linux-64                    Cached
  + libffi                       3.3  h58526e2_2            conda-forge/linux-64                    Cached
  + libgcc-ng                 11.1.0  hc902ee8_8            conda-forge/linux-64                    Cached
  + libgfortran-ng            11.1.0  h69a702a_8            conda-forge/linux-64                    Cached
  + libgfortran5              11.1.0  h6c583b3_8            conda-forge/linux-64                    Cached
  + libgomp                   11.1.0  hc902ee8_8            conda-forge/linux-64                    Cached
  + liblapack                  3.9.0  11_linux64_openblas   conda-forge/linux-64                    Cached
  + libnghttp2                1.43.0  h812cca2_0            conda-forge/linux-64                    Cached
  + libopenblas               0.3.17  pthreads_h8fe5266_1   conda-forge/linux-64                    Cached
  + libssh2                   1.10.0  ha56f1ee_0            conda-forge/linux-64                    Cached
  + libstdcxx-ng              11.1.0  h56837e0_8            conda-forge/linux-64                    Cached
  + ncurses                      6.2  h58526e2_4            conda-forge/linux-64                    Cached
  + numpy                     1.21.2  py37h31617e3_0        conda-forge/linux-64                      6 MB
  + openssl                   1.1.1l  h7f98852_0            conda-forge/linux-64                    Cached
  + pbcommand                  2.1.1  py_2                  bioconda/noarch                          71 KB
  + pbcore                     2.1.2  py_2                  bioconda/noarch                           3 MB
  + pbcoretools                0.8.1  py_1                  /home/vsts/conda/conda-bld/linux-64      69 KB
  + pip                       21.2.4  pyhd8ed1ab_0          conda-forge/noarch                      Cached
  + pycparser                   2.20  pyh9f0ad1d_2          conda-forge/noarch                      Cached
  + pyopenssl                 20.0.1  pyhd8ed1ab_0          conda-forge/noarch                      Cached
  + pysam                   0.16.0.1  py37h45aed0b_3        bioconda/linux-64                         3 MB
  + pysocks                    1.7.1  py37h89c1867_3        conda-forge/linux-64                     27 KB
  + python                    3.7.10  hffdb5ce_100_cpython  conda-forge/linux-64                     57 MB
  + python_abi                   3.7  2_cp37m               conda-forge/linux-64                      4 KB
  + pytz                      2021.1  pyhd8ed1ab_0          conda-forge/noarch                      Cached
  + readline                     8.1  h46c0cb4_0            conda-forge/linux-64                    Cached
  + requests                  2.26.0  pyhd8ed1ab_0          conda-forge/noarch                      Cached
  + setuptools                57.4.0  py37h89c1867_0        conda-forge/linux-64                    938 KB
  + six                       1.16.0  pyh6c4a22f_0          conda-forge/noarch                      Cached
  + sqlite                    3.36.0  h9cd32fc_0            conda-forge/linux-64                    Cached
  + tk                        8.6.11  h27826a3_1            conda-forge/linux-64                    Cached
  + urllib3                   1.26.6  pyhd8ed1ab_0          conda-forge/noarch                      Cached
  + wheel                     0.37.0  pyhd8ed1ab_1          conda-forge/noarch                      Cached
  + xz                         5.2.5  h516909a_1            conda-forge/linux-64                    Cached
  + zlib                      1.2.11  h516909a_1010         conda-forge/linux-64                    Cached

  Summary:

  Install: 57 packages

  Total download: 75 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────────


## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/pbcoretools_1630792501703/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_


The following NEW packages will be INSTALLED:

    _libgcc_mutex:      0.1-conda_forge             conda-forge
    _openmp_mutex:      4.5-1_gnu                   conda-forge
    avro-python3:       1.9.0-py37_0                bioconda   
    biopython:          1.79-py37h5e8e339_0         conda-forge
    brotlipy:           0.7.0-py37h5e8e339_1001     conda-forge
    bzip2:              1.0.8-h7f98852_4            conda-forge
    c-ares:             1.17.2-h7f98852_0           conda-forge
    ca-certificates:    2021.5.30-ha878542_0        conda-forge
    certifi:            2021.5.30-py37h89c1867_0    conda-forge
    cffi:               1.14.6-py37hc58025e_0       conda-forge
    chardet:            4.0.0-py37h89c1867_1        conda-forge
    charset-normalizer: 2.0.0-pyhd8ed1ab_0          conda-forge
    cryptography:       3.4.7-py37h5d9358c_0        conda-forge
    idna:               3.1-pyhd3deb0d_0            conda-forge
    iso8601:            0.1.16-pyhd8ed1ab_0         conda-forge
    krb5:               1.19.2-hcc1bbae_0           conda-forge
    ld_impl_linux-64:   2.36.1-hea4e1c9_2           conda-forge
    libblas:            3.9.0-11_linux64_openblas   conda-forge
    libcblas:           3.9.0-11_linux64_openblas   conda-forge
    libcurl:            7.78.0-h2574ce0_0           conda-forge
    libdeflate:         1.7-h7f98852_5              conda-forge
    libedit:            3.1.20191231-he28a2e2_2     conda-forge
    libev:              4.33-h516909a_1             conda-forge
    libffi:             3.3-h58526e2_2              conda-forge
    libgcc-ng:          11.1.0-hc902ee8_8           conda-forge
    libgfortran-ng:     11.1.0-h69a702a_8           conda-forge
    libgfortran5:       11.1.0-h6c583b3_8           conda-forge
    libgomp:            11.1.0-hc902ee8_8           conda-forge
    liblapack:          3.9.0-11_linux64_openblas   conda-forge
    libnghttp2:         1.43.0-h812cca2_0           conda-forge
    libopenblas:        0.3.17-pthreads_h8fe5266_1  conda-forge
    libssh2:            1.10.0-ha56f1ee_0           conda-forge
    libstdcxx-ng:       11.1.0-h56837e0_8           conda-forge
    ncurses:            6.2-h58526e2_4              conda-forge
    numpy:              1.21.2-py37h31617e3_0       conda-forge
    openssl:            1.1.1l-h7f98852_0           conda-forge
    pbcommand:          2.1.1-py_2                  bioconda   
    pbcore:             2.1.2-py_2                  bioconda   
    pbcoretools:        0.8.1-py_1                  local      
    pip:                21.2.4-pyhd8ed1ab_0         conda-forge
    pycparser:          2.20-pyh9f0ad1d_2           conda-forge
    pyopenssl:          20.0.1-pyhd8ed1ab_0         conda-forge
    pysam:              0.16.0.1-py37h45aed0b_3     bioconda   
    pysocks:            1.7.1-py37h89c1867_3        conda-forge
    python:             3.7.10-hffdb5ce_100_cpython conda-forge
    python_abi:         3.7-2_cp37m                 conda-forge
    pytz:               2021.1-pyhd8ed1ab_0         conda-forge
    readline:           8.1-h46c0cb4_0              conda-forge
    requests:           2.26.0-pyhd8ed1ab_0         conda-forge
    setuptools:         57.4.0-py37h89c1867_0       conda-forge
    six:                1.16.0-pyh6c4a22f_0         conda-forge
    sqlite:             3.36.0-h9cd32fc_0           conda-forge
    tk:                 8.6.11-h27826a3_1           conda-forge
    urllib3:            1.26.6-pyhd8ed1ab_0         conda-forge
    wheel:              0.37.0-pyhd8ed1ab_1         conda-forge
    xz:                 5.2.5-h516909a_1            conda-forge
    zlib:               1.2.11-h516909a_1010        conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... 
##############################################################################
#                                                                            #
# PacBio(R) tools distributed via Bioconda are: pre-release versions, not    #
# necessarily ISO compliant, intended for Research Use Only and not for use  #
# in diagnostic procedures, intended only for command-line users, and        #
# possibly newer than the currently available SMRT(R) Analysis builds. While #
# efforts have been made to ensure that releases on Bioconda live up to the  #
# quality that PacBio strives for, we make no warranty regarding any         #
# Bioconda release.                                                          #
#                                                                            #
# As PacBio tools distributed via Bioconda are not covered by any service    #
# level agreement or the like, please *do not* contact a PacBio Field        #
# Applications Scientist or PacBio Customer Service for assistance with any  #
# Bioconda release. We instead provide an issue tracker for you to report    #
# issues to us at:                                                           #
#                                                                            #
#   https://github.com/PacificBiosciences/pbbioconda                         #
#                                                                            #
# We make no warranty that any such issue will be addressed,                 #
# to any extent or within any time frame.                                    #
#                                                                            #
# BSD 3-Clause Clear License                                                 #
#                                                                            #
# Please see https://github.com/PacificBiosciences/pbbioconda for            #
# information on License, Copyright and Disclaimer                           #
#                                                                            #
##############################################################################


##############################################################################
#                                                                            #
# PacBio(R) tools distributed via Bioconda are: pre-release versions, not    #
# necessarily ISO compliant, intended for Research Use Only and not for use  #
# in diagnostic procedures, intended only for command-line users, and        #
# possibly newer than the currently available SMRT(R) Analysis builds. While #
# efforts have been made to ensure that releases on Bioconda live up to the  #
# quality that PacBio strives for, we make no warranty regarding any         #
# Bioconda release.                                                          #
#                                                                            #
# As PacBio tools distributed via Bioconda are not covered by any service    #
# level agreement or the like, please *do not* contact a PacBio Field        #
# Applications Scientist or PacBio Customer Service for assistance with any  #
# Bioconda release. We instead provide an issue tracker for you to report    #
# issues to us at:                                                           #
#                                                                            #
#   https://github.com/PacificBiosciences/pbbioconda                         #
#                                                                            #
# We make no warranty that any such issue will be addressed,                 #
# to any extent or within any time frame.                                    #
#                                                                            #
# BSD 3-Clause Clear License                                                 #
#                                                                            #
# Please see https://github.com/PacificBiosciences/pbbioconda for            #
# information on License, Copyright and Disclaimer                           #
#                                                                            #
##############################################################################


##############################################################################
#                                                                            #
# PacBio(R) tools distributed via Bioconda are: pre-release versions, not    #
# necessarily ISO compliant, intended for Research Use Only and not for use  #
# in diagnostic procedures, intended only for command-line users, and        #
# possibly newer than the currently available SMRT(R) Analysis builds. While #
# efforts have been made to ensure that releases on Bioconda live up to the  #
# quality that PacBio strives for, we make no warranty regarding any         #
# Bioconda release.                                                          #
#                                                                            #
# As PacBio tools distributed via Bioconda are not covered by any service    #
# level agreement or the like, please *do not* contact a PacBio Field        #
# Applications Scientist or PacBio Customer Service for assistance with any  #
# Bioconda release. We instead provide an issue tracker for you to report    #
# issues to us at:                                                           #
#                                                                            #
#   https://github.com/PacificBiosciences/pbbioconda                         #
#                                                                            #
# We make no warranty that any such issue will be addressed,                 #
# to any extent or within any time frame.                                    #
#                                                                            #
# BSD 3-Clause Clear License                                                 #
#                                                                            #
# Please see https://github.com/PacificBiosciences/pbbioconda for            #
# information on License, Copyright and Disclaimer                           #
#                                                                            #
##############################################################################

done
export PREFIX=/home/vsts/conda/conda-bld/pbcoretools_1630792501703/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_
export SRC_DIR=/home/vsts/conda/conda-bld/pbcoretools_1630792501703/test_tmp
usage: dataset [-h] [--version] [--log-file LOG_FILE]
               [--log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL} | --debug | --quiet | -v]
               [--strict] [--skipCounts]
               {create,filter,merge,split,validate,summarize,consolidate,loadstats,newuuid,loadmetadata,copyto,absolutize,relativize,export}
               ...

Run dataset.py by specifying a command.

optional arguments:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
  --log-file LOG_FILE   Write the log to file. Default(None) will write to
                        stdout. (default: None)
  --log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL}
                        Set log level (default: WARNING)
  --debug               Alias for setting log level to DEBUG (default: False)
  --quiet               Alias for setting log level to CRITICAL to suppress
                        output. (default: False)
  -v, --verbose         Set the verbosity level. (default: None)
  --strict              Turn on strict tests, raise all errors (default:
                        False)
  --skipCounts          Skip updating NumRecords and TotalLength counts
                        (default: False)

DataSet sub-commands:
  {create,filter,merge,split,validate,summarize,consolidate,loadstats,newuuid,loadmetadata,copyto,absolutize,relativize,export}
                        Type {command} -h for a command's options
usage: pbvalidate [-h] [--version] [--log-file LOG_FILE]
                  [--log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL} | --debug | --quiet | -v]
                  [--quick] [--max MAX_ERRORS] [--max-records MAX_RECORDS]
                  [--type {BAM,Fasta,AlignmentSet,ConsensusSet,ConsensusAlignmentSet,SubreadSet,TranscriptSet,BarcodeSet,ContigSet,ReferenceSet,GmapReferenceSet}]
                  [--index] [--strict] [-x XUNIT_OUT] [--alarms ALARMS_OUT]
                  [--unaligned] [--unmapped] [--aligned] [--mapped]
                  [--contents {SUBREAD,CCS}] [--reference REFERENCE]
                  file

Utility for validating files produced by PacBio software against our own
internal specifications.

positional arguments:
  file                  BAM, FASTA, or DataSet XML file

optional arguments:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
  --log-file LOG_FILE   Write the log to file. Default(None) will write to
                        stdout. (default: None)
  --log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL}
                        Set log level (default: CRITICAL)
  --debug               Alias for setting log level to DEBUG (default: False)
  --quiet               Alias for setting log level to CRITICAL to suppress
                        output. (default: False)
  -v, --verbose         Set the verbosity level. (default: None)
  --quick               Limits validation to the first 100 records (plus file
                        header); equivalent to --max-records=100 (default:
                        False)
  --max MAX_ERRORS      Exit after MAX_ERRORS have been recorded (DEFAULT:
                        check entire file) (default: None)
  --max-records MAX_RECORDS
                        Exit after MAX_RECORDS have been inspected (DEFAULT:
                        check entire file) (default: None)
  --type {BAM,Fasta,AlignmentSet,ConsensusSet,ConsensusAlignmentSet,SubreadSet,TranscriptSet,BarcodeSet,ContigSet,ReferenceSet,GmapReferenceSet}
                        Use the specified file type instead of guessing
                        (default: None)
  --index               Require index files (.fai or .pbi) (default: False)
  --strict              Turn on additional validation, primarily for DataSet
                        XML (default: False)
  -x XUNIT_OUT, --xunit-out XUNIT_OUT
                        Xunit test results for Jenkins (default: None)
  --alarms ALARMS_OUT   alarms.json for errors (default: None)

bam:
  BAM options

  --unaligned           Specify that the file should contain only unmapped
                        alignments (DEFAULT: no requirement) (default: None)
  --unmapped            Alias for --unaligned (default: None)
  --aligned             Specify that the file should contain only mapped
                        alignments (DEFAULT: no requirement) (default: None)
  --mapped              Alias for --aligned (default: None)
  --contents {SUBREAD,CCS}
                        Enforce read type (default: None)
  --reference REFERENCE
                        Path to optional reference FASTA file, used for
                        additional validation of mapped BAM records (default:
                        None)

fasta:
  Fasta options
usage: bamsieve [-h] [--version] [--log-file LOG_FILE]
                [--log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL} | --debug | --quiet | -v]
                [--show-zmws] [--whitelist WHITELIST] [--blacklist BLACKLIST]
                [--subreads] [--percentage PERCENTAGE] [-n COUNT] [-s SEED]
                [--ignore-metadata] [--relative] [--anonymize] [--barcodes]
                [--sample-scraps] [--keep-uuid] [--min-adapters MIN_ADAPTERS]
                input_bam [output_bam]

Tool for subsetting a BAM or PacBio DataSet file based on either a whitelist
of hole numbers or a percentage of reads to be randomly selected.

positional arguments:
  input_bam             Input BAM or DataSet from which reads will be read
  output_bam            Output BAM or DataSet to which filtered reads will be
                        written (default: None)

optional arguments:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
  --log-file LOG_FILE   Write the log to file. Default(None) will write to
                        stdout. (default: None)
  --log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL}
                        Set log level (default: WARN)
  --debug               Alias for setting log level to DEBUG (default: False)
  --quiet               Alias for setting log level to CRITICAL to suppress
                        output. (default: False)
  -v, --verbose         Set the verbosity level. (default: None)
  --show-zmws           Print a list of ZMWs and exit (default: False)
  --whitelist WHITELIST
                        Comma-separated list of ZMWs, or file containing
                        whitelist of one hole number per line, or BAM/DataSet
                        file from which to extract ZMWs (default: None)
  --blacklist BLACKLIST
                        Opposite of --whitelist, specifies ZMWs to discard
                        (default: None)
  --subreads            If set, the whitelist or blacklist will be assumed to
                        contain one subread name per line, or a BAM/DataSet
                        file from which to extract subreads (default: False)
  --percentage PERCENTAGE
                        If you prefer to recover a percentage of a SMRTcell
                        rather than a specific list of reads specify that
                        percentage (range 0-100) here (default: None)
  -n COUNT, --count COUNT
                        Recover a specific number of ZMWs picked at random
                        (default: None)
  -s SEED, --seed SEED  Random seed for selecting a percentage of reads
                        (default: None)
  --ignore-metadata     Discard input DataSet metadata (default: False)
  --relative            Make external resource paths relative (default: False)
  --anonymize           Randomize sequences for privacy (default: False)
  --barcodes            Indicates that the whitelist or blacklist contains
                        barcode indices instead of ZMW numbers (default:
                        False)
  --sample-scraps       If enabled, --percentage and --count will include hole
                        numbers from scraps BAM files when picking a random
                        sample (default is to sample only ZMWs present in
                        subreads BAM). (default: False)
  --keep-uuid           If enabled, the UUID from the input dataset will be
                        used for the output as well. (default: False)
  --min-adapters MIN_ADAPTERS
                        Minimum number of adapters to filter for (default:
                        None)
usage: pbtools-gather [-h] [--version] [--log-file LOG_FILE]
                      [--log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL} | --debug | --quiet | -v]
                      [--join-contigs]
                      output_file chunked_files [chunked_files ...]

Simple gather tool for non-dataset file types

positional arguments:
  output_file           Gathered output file
  chunked_files         Chunked input files

optional arguments:
  -h, --help            show this help message and exit
  --version             show program's version number and exit
  --log-file LOG_FILE   Write the log to file. Default(None) will write to
                        stdout. (default: None)
  --log-level {DEBUG,INFO,WARNING,ERROR,CRITICAL}
                        Set log level (default: INFO)
  --debug               Alias for setting log level to DEBUG (default: False)
  --quiet               Alias for setting log level to CRITICAL to suppress
                        output. (default: False)
  -v, --verbose         Set the verbosity level. (default: None)
  --join-contigs        Merge split contigs (default: False)

Resource usage statistics from testing pbcoretools:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.6M
   Disk usage: 20B
   Time elapsed: 0:00:02.1


TEST END: pbcoretools-0.8.1-py_1.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

