  Package                 Version  Build               Channel                                    Size
────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
────────────────────────────────────────────────────────────────────────────────────────────────────────

  + ca-certificates     2021.5.30  h033912b_0          conda-forge/osx-64                       Cached
  + certifi             2021.5.30  py39h6e9494a_0      conda-forge/osx-64                       Cached
  + cycler                 0.10.0  py_2                conda-forge/noarch                         9 KB
  + freetype               2.10.4  h4cff582_1          conda-forge/osx-64                       Cached
  + illumina-utils           2.12  pyhdfd78af_0        /Users/runner/conda/conda-bld/osx-64      57 KB
  + jbig                      2.1  h0d85af4_2003       conda-forge/osx-64                       Cached
  + jpeg                       9d  hbcb3906_0          conda-forge/osx-64                       Cached
  + kiwisolver              1.3.2  py39hf018cea_0      conda-forge/osx-64                        59 KB
  + lcms2                    2.12  h577c468_0          conda-forge/osx-64                       404 KB
  + lerc                    2.2.1  h046ec9c_0          conda-forge/osx-64                       Cached
  + libblas                 3.9.0  11_osx64_openblas   conda-forge/osx-64                       Cached
  + libcblas                3.9.0  11_osx64_openblas   conda-forge/osx-64                       Cached
  + libcxx                 12.0.1  habf9029_0          conda-forge/osx-64                       Cached
  + libdeflate                1.7  h35c211d_5          conda-forge/osx-64                       Cached
  + libffi                    3.3  h046ec9c_2          conda-forge/osx-64                       Cached
  + libgfortran             5.0.0  9_3_0_h6c81a4c_23   conda-forge/osx-64                       Cached
  + libgfortran5            9.3.0  h6c81a4c_23         conda-forge/osx-64                       Cached
  + liblapack               3.9.0  11_osx64_openblas   conda-forge/osx-64                       Cached
  + libopenblas            0.3.17  openmp_h3351f45_1   conda-forge/osx-64                       Cached
  + libpng                 1.6.37  h7cec526_2          conda-forge/osx-64                       Cached
  + libtiff                 4.3.0  h1167814_1          conda-forge/osx-64                       Cached
  + libwebp-base            1.2.1  h0d85af4_0          conda-forge/osx-64                       Cached
  + llvm-openmp            12.0.1  hda6cdc1_1          conda-forge/osx-64                       Cached
  + lz4-c                   1.9.3  he49afe7_1          conda-forge/osx-64                       Cached
  + matplotlib-base         3.4.3  py39hb07454d_0      conda-forge/osx-64                         7 MB
  + ncurses                   6.2  h2e338ed_4          conda-forge/osx-64                       Cached
  + numpy                  1.21.2  py39h7eed0ac_0      conda-forge/osx-64                       Cached
  + olefile                  0.46  pyh9f0ad1d_1        conda-forge/noarch                        32 KB
  + openjpeg                2.4.0  h6e7aa92_1          conda-forge/osx-64                       374 KB
  + openssl                1.1.1l  h0d85af4_0          conda-forge/osx-64                       Cached
  + pillow                  8.3.2  py39he9bb72f_0      conda-forge/osx-64                       660 KB
  + pip                    21.2.4  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + pyparsing               2.4.7  pyh9f0ad1d_0        conda-forge/noarch                        60 KB
  + python                  3.9.7  hd187cdc_0_cpython  conda-forge/osx-64                       Cached
  + python-dateutil         2.8.2  pyhd8ed1ab_0        conda-forge/noarch                       Cached
  + python-levenshtein     0.12.2  py39h4b0b724_0      conda-forge/osx-64                        78 KB
  + python_abi                3.9  2_cp39              conda-forge/osx-64                       Cached
  + readline                  8.1  h05e3726_0          conda-forge/osx-64                       Cached
  + setuptools             57.4.0  py39h6e9494a_0      conda-forge/osx-64                       Cached
  + six                    1.16.0  pyh6c4a22f_0        conda-forge/noarch                       Cached
  + sqlite                 3.36.0  h23a322b_0          conda-forge/osx-64                       Cached
  + tk                     8.6.11  h5dbffcc_1          conda-forge/osx-64                       Cached
  + tornado                   6.1  py39h89e85a6_1      conda-forge/osx-64                       645 KB
  + tzdata                  2021a  he74cb21_1          conda-forge/noarch                       Cached
  + wheel                  0.37.0  pyhd8ed1ab_1        conda-forge/noarch                       Cached
  + xz                      5.2.5  haf1e3a3_1          conda-forge/osx-64                       Cached
  + zlib                   1.2.11  h7795811_1010       conda-forge/osx-64                       Cached
  + zstd                    1.5.0  h582d3a0_0          conda-forge/osx-64                       Cached

  Summary:

  Install: 48 packages

  Total download: 10 MB

────────────────────────────────────────────────────────────────────────────────────────────────────────

Updating build index: /Users/runner/conda/conda-bld

TEST START: illumina-utils-2.12-pyhdfd78af_0.tar.bz2

## Package Plan ##

  environment location: /Users/runner/conda/conda-bld/illumina-utils_1630804387909/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac


The following NEW packages will be INSTALLED:

    ca-certificates:    2021.5.30-h033912b_0     conda-forge
    certifi:            2021.5.30-py39h6e9494a_0 conda-forge
    cycler:             0.10.0-py_2              conda-forge
    freetype:           2.10.4-h4cff582_1        conda-forge
    illumina-utils:     2.12-pyhdfd78af_0        local      
    jbig:               2.1-h0d85af4_2003        conda-forge
    jpeg:               9d-hbcb3906_0            conda-forge
    kiwisolver:         1.3.2-py39hf018cea_0     conda-forge
    lcms2:              2.12-h577c468_0          conda-forge
    lerc:               2.2.1-h046ec9c_0         conda-forge
    libblas:            3.9.0-11_osx64_openblas  conda-forge
    libcblas:           3.9.0-11_osx64_openblas  conda-forge
    libcxx:             12.0.1-habf9029_0        conda-forge
    libdeflate:         1.7-h35c211d_5           conda-forge
    libffi:             3.3-h046ec9c_2           conda-forge
    libgfortran:        5.0.0-9_3_0_h6c81a4c_23  conda-forge
    libgfortran5:       9.3.0-h6c81a4c_23        conda-forge
    liblapack:          3.9.0-11_osx64_openblas  conda-forge
    libopenblas:        0.3.17-openmp_h3351f45_1 conda-forge
    libpng:             1.6.37-h7cec526_2        conda-forge
    libtiff:            4.3.0-h1167814_1         conda-forge
    libwebp-base:       1.2.1-h0d85af4_0         conda-forge
    llvm-openmp:        12.0.1-hda6cdc1_1        conda-forge
    lz4-c:              1.9.3-he49afe7_1         conda-forge
    matplotlib-base:    3.4.3-py39hb07454d_0     conda-forge
    ncurses:            6.2-h2e338ed_4           conda-forge
    numpy:              1.21.2-py39h7eed0ac_0    conda-forge
    olefile:            0.46-pyh9f0ad1d_1        conda-forge
    openjpeg:           2.4.0-h6e7aa92_1         conda-forge
    openssl:            1.1.1l-h0d85af4_0        conda-forge
    pillow:             8.3.2-py39he9bb72f_0     conda-forge
    pip:                21.2.4-pyhd8ed1ab_0      conda-forge
    pyparsing:          2.4.7-pyh9f0ad1d_0       conda-forge
    python:             3.9.7-hd187cdc_0_cpython conda-forge
    python-dateutil:    2.8.2-pyhd8ed1ab_0       conda-forge
    python-levenshtein: 0.12.2-py39h4b0b724_0    conda-forge
    python_abi:         3.9-2_cp39               conda-forge
    readline:           8.1-h05e3726_0           conda-forge
    setuptools:         57.4.0-py39h6e9494a_0    conda-forge
    six:                1.16.0-pyh6c4a22f_0      conda-forge
    sqlite:             3.36.0-h23a322b_0        conda-forge
    tk:                 8.6.11-h5dbffcc_1        conda-forge
    tornado:            6.1-py39h89e85a6_1       conda-forge
    tzdata:             2021a-he74cb21_1         conda-forge
    wheel:              0.37.0-pyhd8ed1ab_1      conda-forge
    xz:                 5.2.5-haf1e3a3_1         conda-forge
    zlib:               1.2.11-h7795811_1010     conda-forge
    zstd:               1.5.0-h582d3a0_0         conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/Users/runner/conda/conda-bld/illumina-utils_1630804387909/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_plac
export SRC_DIR=/Users/runner/conda/conda-bld/illumina-utils_1630804387909/test_tmp
import: 'IlluminaUtils'
import: 'IlluminaUtils.lib'
import: 'IlluminaUtils.utils'
import: 'IlluminaUtils'
import: 'IlluminaUtils.lib'
import: 'IlluminaUtils.utils'
usage: iu-merge-pairs [-h] [-o OUTPUT_FILE_PREFIX] [--min-overlap-size INT]
                      [--max-num-mismatches INT] [--min-qual-score INT]
                      [-P FLOAT] [--enforce-Q30-check] [--compute-qual-dicts]
                      [--retain-only-overlap] [--debug] [--ignore-deflines]
                      [--ignore-Ns] [--exclude-low-diversity-seqs FLOAT]
                      [--marker-gene-stringent] [--skip-suffix-trimming]
                      [--report-r1-prefix] [--report-r2-prefix]
                      [--num-threads INT]
                      [--distance-metric {hamming,levenshtein}]
                      CONFIG_FILE

Merge Overlapping Paired-End Illumina Reads

positional arguments:
  CONFIG_FILE           User configuration to run

optional arguments:
  -h, --help            show this help message and exit
  -o OUTPUT_FILE_PREFIX, --output_file_prefix OUTPUT_FILE_PREFIX
                        Output file prefix (which will be used as a prefix for
                        files that appear in output directory)
  --min-overlap-size INT
                        Overlap size must exceed this value. Default is 15.
  --max-num-mismatches INT
                        Maximum number of mismatches at the overlapped region
                        to retain the pair. The default behavior relies on
                        `-P` parameter and does not pay attention to the
                        number of mismatches at the overlapped region. As of
                        now, this parameter must be set to 0 for forward and
                        reverse reads of unequal length.
  --min-qual-score INT  Minimum Q-score for a base to overwrite a mismatch at
                        the overlapped region. If there is a mismatch at the
                        overlapped region, the base with higher quality is
                        being used in the final sequence. Alternatively, if
                        the Q-score of the base with higher quality is lower
                        than the Q-score declared with this parameter, that
                        base is being marked as an ambiguous base, which may
                        result in the elimination of the merged sequence
                        depending on the --ignore-Ns paranmeter. The default
                        value is 15.
  -P FLOAT              Any merged sequence with P above the declared value is
                        discarded and stored in a separate file. P is computed
                        by dividing the number of mismatches at the overlapped
                        region by the length of the overlapped region. For
                        instance, if the length of the overlapped region is 30
                        nt long, and there are 3 mismatches in the overlapped
                        region, P would be 3 / 30 = 0.1. The default value for
                        P is 0.300000, however it must be adjusted based on
                        the expected overlap in a given study with respect to
                        desired stringency. Stringency can also be adjusted
                        using `--max-num-mismatches` parameter, or can be done
                        post-merging, using the program `filter-merged-reads`.
  --enforce-Q30-check   By default, quality filtering is being done based only
                        on the mismatches found in the overlapped region, and
                        the beginning and the end of merged reads are not
                        being checked. However a final control can be enforced
                        using this flag. This flag turns on the Q30 check, as
                        it was explained by Minoche et al. in their 2012
                        paper. Briefly, Q30-check eliminates pairs if the 66%
                        of bases in the first half of each read do not have
                        Q-scores over Q30. Note that Q30 is applied only to
                        the parts of reads that did not overlap. If either of
                        reads fail Q30 check, merged sequence is discarded.
  --compute-qual-dicts  When set, qual dicts will be computed. May take a very
                        long time for datasets with more than a million pairs.
  --retain-only-overlap
                        When set, merger will only return the parts of reads
                        that do overlap, and parts of reads that do not
                        overlap will be trimmed.
  --debug               When set, debug messages will be printed
  --ignore-deflines     If FASTQ files are not CASAVA outputs, parsing the
                        header info may go wrong. This flag tells the software
                        to skip parsing deflines.
  --ignore-Ns           Merged sequences are being eliminated if they have any
                        ambiguous bases. If this parameter is set merged pairs
                        with Ns stay in the merged pairs bin.
  --exclude-low-diversity-seqs FLOAT
                        Removes low-diversity sequences where most of their
                        bases are the same. It takes a value between 0.5 and
                        1.0, where a value of 1.0 will remove a merged
                        sequence if the most frequent base in it makes 100% of
                        the sequence.
  --marker-gene-stringent
                        Finds the best merge going beyond expected "partial
                        overlap" case for amplicons. Please read the
                        description at url https://github.com/meren/illumina-
                        utils/issues/1 for details.
  --skip-suffix-trimming
                        Some datasets contain both partially and completely
                        overlapping reads. `--marker-gene-stringent` would be
                        used in that case. Completely overlapping reads can
                        contain unwanted adapter sequence at the ends of the
                        reads (read 1 adapter at the end of read 2 and read 2
                        adapter at the end of read 1). By default, these
                        adapter suffixes are trimmed from merged reads, and
                        non-overlapping parts of the insert are left untouched
                        in partially overlapping reads (`--retain-only-
                        overlap` trims partially overlapping merges). Setting
                        this flag leaves adapter suffixes untrimmed.
  --report-r1-prefix    If there is a prefix to read 1 specified in the config
                        file, these sequences will be reported for merged
                        reads when this flag is set. This can be useful if the
                        prefix sequence has variable bases, such as in a
                        unique molecular identifier (UMI).
  --report-r2-prefix    If there is a prefix to read 2 specified in the config
                        file, these sequences will be reported for merged
                        reads when this flag is set. This can be useful if the
                        prefix sequence has variable bases, such as in a
                        unique molecular identifier (UMI).
  --num-threads INT     This triggers a faster algorithm for merging reads
                        with no mismatches in the overlapping region. This can
                        only be used in combination with `--max-num-mismatches
                        0`. Specify the number of CPU cores that you wish to
                        use.
  --distance-metric {hamming,levenshtein}
usage: iu-gen-configs [-h] [--r1-prefix REGEXP] [--r2-prefix REGEXP]
                      [--e-mail E-MAIL] [-o DIRECTORY]
                      FILE

Generate config files for demultiplexed FASTQ files

positional arguments:
  FILE                  TAB-delimited file to describe where samples are. The
                        header line should be "sample", "r1", and "r2". Each
                        row should list the sample name in the first column,
                        and full path for r1 and r2. This output is
                        automatically generated by the iu-demultiplex script.

optional arguments:
  -h, --help            show this help message and exit
  --r1-prefix REGEXP    Prefix for Read 1 to be put in every config file.
  --r2-prefix REGEXP    Prefix for Read 2.
  --e-mail E-MAIL       E-mail address (currently is not used for anything)
  -o DIRECTORY, --output-dir DIRECTORY
                        Directory for output storage. INI files will also be
                        generated in this directory.
usage: iu-filter-quality-minoche [-h] [-p FLOAT] [--ignore-deflines]
                                 [--visualize-quality-curves]
                                 [--limit-num-pairs INTEGER]
                                 [--print-qual-scores] [--store-read-fate]
                                 CONFIG_FILE

Implementation of "http://genomebiology.com/content/12/11/R112"

positional arguments:
  CONFIG_FILE           User configuration to run. See the source code to see
                        an example.

optional arguments:
  -h, --help            show this help message and exit
  -p FLOAT              Minimum high-quality read length (default: 0.75)
  --ignore-deflines     If FASTQ files are not CASAVA outputs, parsing the
                        header info may go wrong. This flag tells the software
                        to skip parsing deflines.
  --visualize-quality-curves
                        When set, mean quality score for individual bases will
                        be stored and visualized for each group of reads.
  --limit-num-pairs INTEGER
                        Put a limit to the number of pairs to analyze. For
                        testing purposes.
  --print-qual-scores   When set, the script will print out the Q-scores the
                        way it sees it in the FASTQ file. This flag will
                        generate a lot of useless output to the stdout, and
                        you should not use it if you are not testing
                        something.
  --store-read-fate     As it goes through your raw reads, this program keeps
                        track of the read fate so you can learn what happened
                        to a given read ID in your raw input data once the
                        analysis is done. This output can become extremely
                        large, and often is utterly useless to you unless you
                        have a very specific benchmarking or debugging
                        interestes, hence, it is not stored by default. You
                        can change that behavior by using this flag, and ask
                        illumina-utils to store this data on your disk.
usage: iu-demultiplex [-h] [-s PATH] [--r1 FASTQ] [--r2 FASTQ] [-i FASTQ] [-x]
                      [-o DIRECTORY]

Demultiplex a paired-end Illumina Run

optional arguments:
  -h, --help            show this help message and exit
  -s PATH, --sample-barcode-mapping PATH
                        TAB-delimited file of sample-barcode associations
  --r1 FASTQ            FASTQ file for R1
  --r2 FASTQ            FASTQ file for R2.
  -i FASTQ, --index FASTQ
                        Index file (I1)
  -x, --rev-comp-barcodes
                        Reverse-complement barcodes before processing
  -o DIRECTORY, --output-dir DIRECTORY
                        Directory for output storage
usage: iu-filter-merged-reads [-h] [-o FILE_PATH] [-m INT] FILE_PATH

Filter reads from a merged file based on maximum mismatches at the overlapped
region

positional arguments:
  FILE_PATH             FASTA file to be filtered

optional arguments:
  -h, --help            show this help message and exit
  -o FILE_PATH, --output FILE_PATH
                        Where filtered reads will be written (default:
                        [-i]-MAX-MISMATCH-[-m]
  -m INT, --max-mismatches INT
                        Maximum number of mismatches allowed in the overlapped
                        region

Resource usage statistics from testing illumina-utils:
   Process count: 5
   CPU time: Sys=0:00:00.3, User=0:00:01.2
   Memory: 53.2M
   Disk usage: 20B
   Time elapsed: 0:00:10.3


TEST END: illumina-utils-2.12-pyhdfd78af_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

