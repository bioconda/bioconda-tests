Updating build index: /home/vsts/conda/conda-bld

TEST START: irida-sistr-results-0.6.0-py36_0.tar.bz2
Adding in variants from internal_defaults
Adding in variants from /tmp/tmp6tw7o4w8/info/recipe/conda_build_config.yaml
  Package                  Version  Build                Channel                                   Size
─────────────────────────────────────────────────────────────────────────────────────────────────────────
  Install:
─────────────────────────────────────────────────────────────────────────────────────────────────────────

  + _libgcc_mutex              0.1  conda_forge          conda-forge/linux-64                    Cached
  + _openmp_mutex              4.5  1_gnu                conda-forge/linux-64                    Cached
  + appdirs                  1.4.4  pyh9f0ad1d_0         conda-forge/noarch                       13 KB
  + brotlipy                 0.7.0  py36h8f6f2f9_1001    conda-forge/linux-64                    341 KB
  + ca-certificates      2021.5.30  ha878542_0           conda-forge/linux-64                    Cached
  + certifi              2021.5.30  py36h5fab9bb_0       conda-forge/linux-64                    141 KB
  + cffi                    1.14.6  py36hc120d54_0       conda-forge/linux-64                    224 KB
  + chardet                  4.0.0  py36h5fab9bb_1       conda-forge/linux-64                    219 KB
  + charset-normalizer       2.0.0  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + cryptography             3.4.7  py36hb60f036_0       conda-forge/linux-64                      1 MB
  + idna                       3.1  pyhd3deb0d_0         conda-forge/noarch                      Cached
  + irida-sistr-results      0.6.0  py36_0               /home/vsts/conda/conda-bld/linux-64      36 KB
  + ld_impl_linux-64        2.36.1  hea4e1c9_2           conda-forge/linux-64                    Cached
  + libblas                  3.9.0  11_linux64_openblas  conda-forge/linux-64                     12 KB
  + libcblas                 3.9.0  11_linux64_openblas  conda-forge/linux-64                     11 KB
  + libffi                     3.3  h58526e2_2           conda-forge/linux-64                    Cached
  + libgcc-ng               11.1.0  hc902ee8_8           conda-forge/linux-64                    Cached
  + libgfortran-ng          11.1.0  h69a702a_8           conda-forge/linux-64                     19 KB
  + libgfortran5            11.1.0  h6c583b3_8           conda-forge/linux-64                      2 MB
  + libgomp                 11.1.0  hc902ee8_8           conda-forge/linux-64                    Cached
  + liblapack                3.9.0  11_linux64_openblas  conda-forge/linux-64                     11 KB
  + libopenblas             0.3.17  pthreads_h8fe5266_1  conda-forge/linux-64                      9 MB
  + libstdcxx-ng            11.1.0  h56837e0_8           conda-forge/linux-64                    Cached
  + ncurses                    6.2  h58526e2_4           conda-forge/linux-64                    Cached
  + numpy                   1.19.5  py36hfc0c790_2       conda-forge/linux-64                      5 MB
  + openssl                 1.1.1k  h7f98852_1           conda-forge/linux-64                    Cached
  + pandas                   1.1.5  py36h284efc9_0       conda-forge/linux-64                     11 MB
  + pip                     21.2.4  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + pycparser                 2.20  pyh9f0ad1d_2         conda-forge/noarch                      Cached
  + pyopenssl               20.0.1  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + pysocks                  1.7.1  py36h5fab9bb_3       conda-forge/linux-64                     27 KB
  + python                  3.6.13  hffdb5ce_0_cpython   conda-forge/linux-64                     38 MB
  + python-dateutil          2.8.2  pyhd8ed1ab_0         conda-forge/noarch                      240 KB
  + python_abi                 3.6  2_cp36m              conda-forge/linux-64                      4 KB
  + pytz                    2021.1  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + rauth                    0.7.3  py_0                 conda-forge/noarch                       15 KB
  + readline                   8.1  h46c0cb4_0           conda-forge/linux-64                    Cached
  + requests                2.26.0  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + setuptools              57.4.0  py36h5fab9bb_0       conda-forge/linux-64                    933 KB
  + six                     1.16.0  pyh6c4a22f_0         conda-forge/noarch                      Cached
  + sqlite                  3.36.0  h9cd32fc_0           conda-forge/linux-64                    Cached
  + tk                      8.6.11  h27826a3_1           conda-forge/linux-64                    Cached
  + urllib3                 1.26.6  pyhd8ed1ab_0         conda-forge/noarch                      Cached
  + wheel                   0.37.0  pyhd8ed1ab_1         conda-forge/noarch                      Cached
  + xlsxwriter               3.0.1  pyhd8ed1ab_0         conda-forge/noarch                      108 KB
  + xz                       5.2.5  h516909a_1           conda-forge/linux-64                    Cached
  + zlib                    1.2.11  h516909a_1010        conda-forge/linux-64                    Cached

  Summary:

  Install: 47 packages

  Total download: 69 MB

─────────────────────────────────────────────────────────────────────────────────────────────────────────


## Package Plan ##

  environment location: /home/vsts/conda/conda-bld/irida-sistr-results_1630590736699/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pl


The following NEW packages will be INSTALLED:

    _libgcc_mutex:       0.1-conda_forge            conda-forge
    _openmp_mutex:       4.5-1_gnu                  conda-forge
    appdirs:             1.4.4-pyh9f0ad1d_0         conda-forge
    brotlipy:            0.7.0-py36h8f6f2f9_1001    conda-forge
    ca-certificates:     2021.5.30-ha878542_0       conda-forge
    certifi:             2021.5.30-py36h5fab9bb_0   conda-forge
    cffi:                1.14.6-py36hc120d54_0      conda-forge
    chardet:             4.0.0-py36h5fab9bb_1       conda-forge
    charset-normalizer:  2.0.0-pyhd8ed1ab_0         conda-forge
    cryptography:        3.4.7-py36hb60f036_0       conda-forge
    idna:                3.1-pyhd3deb0d_0           conda-forge
    irida-sistr-results: 0.6.0-py36_0               local      
    ld_impl_linux-64:    2.36.1-hea4e1c9_2          conda-forge
    libblas:             3.9.0-11_linux64_openblas  conda-forge
    libcblas:            3.9.0-11_linux64_openblas  conda-forge
    libffi:              3.3-h58526e2_2             conda-forge
    libgcc-ng:           11.1.0-hc902ee8_8          conda-forge
    libgfortran-ng:      11.1.0-h69a702a_8          conda-forge
    libgfortran5:        11.1.0-h6c583b3_8          conda-forge
    libgomp:             11.1.0-hc902ee8_8          conda-forge
    liblapack:           3.9.0-11_linux64_openblas  conda-forge
    libopenblas:         0.3.17-pthreads_h8fe5266_1 conda-forge
    libstdcxx-ng:        11.1.0-h56837e0_8          conda-forge
    ncurses:             6.2-h58526e2_4             conda-forge
    numpy:               1.19.5-py36hfc0c790_2      conda-forge
    openssl:             1.1.1k-h7f98852_1          conda-forge
    pandas:              1.1.5-py36h284efc9_0       conda-forge
    pip:                 21.2.4-pyhd8ed1ab_0        conda-forge
    pycparser:           2.20-pyh9f0ad1d_2          conda-forge
    pyopenssl:           20.0.1-pyhd8ed1ab_0        conda-forge
    pysocks:             1.7.1-py36h5fab9bb_3       conda-forge
    python:              3.6.13-hffdb5ce_0_cpython  conda-forge
    python-dateutil:     2.8.2-pyhd8ed1ab_0         conda-forge
    python_abi:          3.6-2_cp36m                conda-forge
    pytz:                2021.1-pyhd8ed1ab_0        conda-forge
    rauth:               0.7.3-py_0                 conda-forge
    readline:            8.1-h46c0cb4_0             conda-forge
    requests:            2.26.0-pyhd8ed1ab_0        conda-forge
    setuptools:          57.4.0-py36h5fab9bb_0      conda-forge
    six:                 1.16.0-pyh6c4a22f_0        conda-forge
    sqlite:              3.36.0-h9cd32fc_0          conda-forge
    tk:                  8.6.11-h27826a3_1          conda-forge
    urllib3:             1.26.6-pyhd8ed1ab_0        conda-forge
    wheel:               0.37.0-pyhd8ed1ab_1        conda-forge
    xlsxwriter:          3.0.1-pyhd8ed1ab_0         conda-forge
    xz:                  5.2.5-h516909a_1           conda-forge
    zlib:                1.2.11-h516909a_1010       conda-forge

Preparing transaction: ...working... done
Verifying transaction: ...working... done
Executing transaction: ...working... done
export PREFIX=/home/vsts/conda/conda-bld/irida-sistr-results_1630590736699/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_pl
export SRC_DIR=/home/vsts/conda/conda-bld/irida-sistr-results_1630590736699/test_tmp
import: 'irida_sistr_results'
import: 'irida_sistr_results'
usage: irida-sistr-results [-h] [--irida-url IRIDA_URL]
                           [--client-id CLIENT_ID]
                           [--client-secret CLIENT_SECRET] [-u USERNAME]
                           [--password PASSWORD] [-v] [-p PROJECTS] [-a]
                           [--output-tab TABULAR_FILE] [-o EXCEL_FILE]
                           [--include-user-results]
                           [--exclude-user-existing-results]
                           [--reportable-serovars-file REPORTABLE_SEROVARS_FILE]
                           [--exclude-reportable-status] [-T TIMEOUT]
                           [-c CONFIG] [-V] [-w WORKFLOW_VERSIONS_OR_IDS]
                           [-d SAMPLES_CREATED_SINCE]

Compile SISTR results from an IRIDA instance into a table.

optional arguments:
  -h, --help            show this help message and exit
  --irida-url IRIDA_URL
                        The URL to the IRIDA instance.
  --client-id CLIENT_ID
                        The client id for an IRIDA instance.
  --client-secret CLIENT_SECRET
                        The client secret for the IRIDA instance.
  -u USERNAME, --username USERNAME
                        The username for the IRIDA instance.
  --password PASSWORD   The password for the IRIDA instance. Prompts for password if left blank.
  -v, --verbose         Turn on verbose logging.
  -p PROJECTS, --project PROJECTS
                        Projects to scan for SISTR results. If left blank will scan all projects the user has access to.
  -a, --all-projects    Explicitly load results from all projects the user has access to.  Will ignore the values given in --project.
  --output-tab TABULAR_FILE, --to-tab-file TABULAR_FILE
                        Print results to tab-deliminited file.
  -o EXCEL_FILE, --output-excel EXCEL_FILE, --to-excel-file EXCEL_FILE
                        Print results to the given excel file.
  --include-user-results
                        Include SISTR analysis results run directly by the user.
  --exclude-user-existing-results
                        If including user results, do not replace existing SISTR analysis that were automatically generated with user-run SISTR results.
  --reportable-serovars-file REPORTABLE_SEROVARS_FILE
                        The reportable serovars file [$PREFIX/lib/python3.6/site-packages/irida_sistr_results/data/reportable_serovars.tsv].
  --exclude-reportable-status
                        Excludes printing of reportable serovar status in final output.
  -T TIMEOUT, --connection-timeout TIMEOUT
                        Connection timeout when getting results from IRIDA.
  -c CONFIG, --config CONFIG
                        Configuration file for IRIDA (overrides values in ['$PREFIX/lib/python3.6/site-packages/irida_sistr_results/etc/config.ini', '/home/vsts/.local/share/irida-sistr-results/config.ini'])
  -V, --version         show program's version number and exit
  -w WORKFLOW_VERSIONS_OR_IDS, --workflow WORKFLOW_VERSIONS_OR_IDS
                        Only include results of these workflow versions (or uuids) ['0.1', '0.2', '0.3'] [all versions]
  -d SAMPLES_CREATED_SINCE, --samples-created-since SAMPLES_CREATED_SINCE
                        Only include samples created more recently than this date (in format YYYY-MM-DD) or this many days ago (as a number) [Include all samples]

Example:
	irida-sistr-results -a -u irida-user -o out.xlsx
		Exports all SISTR results from all projects to a file 'out.xlsx'

	irida-sistr-results -p 1 -p 2 -u irida-user -o out.xlsx
		Exports SISTR results from projects [1,2] to a file 'out.xlsx'

	irida-sistr-results -p 1 -w 0.3 -w 0.2 -u irida-user -o out.xlsx
		Exports only SISTR results from workflow versions 0.3 and 0.2 from project [1]
irida-sistr-results 0.6.0

Resource usage statistics from testing irida-sistr-results:
   Process count: 1
   CPU time: Sys=0:00:00.0, User=-
   Memory: 3.4M
   Disk usage: 20B
   Time elapsed: 0:00:02.1


TEST END: irida-sistr-results-0.6.0-py36_0.tar.bz2
--dirty flag and --keep-old-work not specified. Removing build/test folder after successful build/test.

